(()=>{var ea=Object.create;var ss=Object.defineProperty;var ta=Object.getOwnPropertyDescriptor;var ra=Object.getOwnPropertyNames;var oa=Object.getPrototypeOf,sa=Object.prototype.hasOwnProperty;var C=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var na=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ra(t))!sa.call(e,s)&&s!==r&&ss(e,s,{get:()=>t[s],enumerable:!(o=ta(t,s))||o.enumerable});return e};var M=(e,t,r)=>(r=e!=null?ea(oa(e)):{},na(t||!e||!e.__esModule?ss(r,"default",{value:e,enumerable:!0}):r,e));var Fe=M(C("react"));var at=M(C("react"));var ns=at.default.createContext({}),as=({children:e,isProvided:t,...r})=>{let{replace:o}=se(),s=async m=>{var l;try{return await((l=r.login)==null?void 0:l.call(r,m))}catch(f){return Promise.reject(f)}},a=async m=>{var l;try{return await((l=r.register)==null?void 0:l.call(r,m))}catch(f){return Promise.reject(f)}},n=async m=>{var l;try{return await((l=r.logout)==null?void 0:l.call(r,m))}catch(f){return Promise.reject(f)}},i=async m=>{var l;try{return await((l=r.checkAuth)==null?void 0:l.call(r,m)),Promise.resolve()}catch(f){return f!=null&&f.redirectPath&&o(f.redirectPath),Promise.reject(f)}};return at.default.createElement(ns.Provider,{value:{...r,login:s,logout:n,checkAuth:i,register:a,isProvided:t}},e)},is=at.default.createContext({}),us=({children:e,isProvided:t,...r})=>{let o=async l=>{var f;try{return await((f=r.login)==null?void 0:f.call(r,l))}catch(c){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",c),Promise.reject(c)}},s=async l=>{var f;try{return await((f=r.register)==null?void 0:f.call(r,l))}catch(c){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",c),Promise.reject(c)}},a=async l=>{var f;try{return await((f=r.logout)==null?void 0:f.call(r,l))}catch(c){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",c),Promise.reject(c)}},n=async l=>{var f;try{let c=await((f=r.check)==null?void 0:f.call(r,l));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",c),Promise.reject(c)}},i=async l=>{var f;try{let c=await((f=r.forgotPassword)==null?void 0:f.call(r,l));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",c),Promise.reject(c)}},m=async l=>{var f;try{let c=await((f=r.updatePassword)==null?void 0:f.call(r,l));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",c),Promise.reject(c)}};return at.default.createElement(is.Provider,{value:{...r,login:o,logout:a,check:n,register:s,forgotPassword:i,updatePassword:m,isProvided:t}},e)},ee=()=>at.default.useContext(ns),oe=()=>at.default.useContext(is);var Kr=C("@tanstack/react-query");function aa({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=ee(),{getPermissions:o}=oe(),s=(0,Kr.useQuery)(["usePermissions"],o!=null?o:()=>Promise.resolve(void 0),{enabled:!e&&!!o,...e?{}:t}),a=(0,Kr.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?a:s}var Wr=C("@tanstack/react-query");function Gr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ee(),{getIdentity:o}=oe(),s=(0,Wr.useQuery)(["getUserIdentity"],o!=null?o:()=>Promise.resolve({}),{enabled:!e&&!!o,retry:!1,...e===!0?{}:t}),a=(0,Wr.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?a:s}var jr=C("@tanstack/react-query");var cs=C("@tanstack/react-query"),xt=()=>{let e=(0,cs.useQueryClient)();return async()=>{await Promise.all([e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])])}};function rr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),o=O(),s=ne(),{push:a}=se(),{open:n,close:i}=Pe(),{logout:m}=ee(),{logout:l}=oe(),f=(0,jr.useMutation)(["useLogout"],l,{onSuccess:async(g,x)=>{let{success:U,error:T,redirectTo:u}=g,{redirectPath:d}=x!=null?x:{},R=d!=null?d:u;U&&(i==null||i("useLogout-error")),(T||!U)&&(n==null||n(zr(T))),await r(),R!==!1&&(o==="legacy"?a(R!=null?R:"/login"):R&&s({to:R}))},onError:g=>{n==null||n(zr(g))},...e===!0?{}:t}),c=(0,jr.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],m,{onSuccess:async(g,x)=>{var T;let U=(T=x==null?void 0:x.redirectPath)!=null?T:g;if(await r(),U!==!1){if(U){o==="legacy"?a(U):s({to:U});return}o==="legacy"?a("/login"):s({to:"/login"})}},onError:g=>{n==null||n(zr(g))},...e?t:{}});return e?c:f}var zr=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"});var ps=M(C("react")),Zr=C("@tanstack/react-query"),ls=M(C("qs"));function Mt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),o=O(),s=ne(),{replace:a}=se(),n=Y(),{useLocation:i}=z(),{search:m}=i(),{close:l,open:f}=Pe(),{login:c}=ee(),{login:g}=oe(),x=ps.default.useMemo(()=>{var u;return o==="legacy"?ls.default.parse(m,{ignoreQueryPrefix:!0}).to:(u=n.params)==null?void 0:u.to},[o,n.params,m]),U=(0,Zr.useMutation)(["useLogin"],g,{onSuccess:async({success:u,redirectTo:d,error:R})=>{u&&(l==null||l("login-error")),(R||!u)&&(f==null||f(_r(R))),await r(),x&&u?o==="legacy"?a(x):s({to:x,type:"replace"}):d?o==="legacy"?a(d):s({to:d,type:"replace"}):o==="legacy"&&a("/")},onError:u=>{f==null||f(_r(u))},...e===!0?{}:t}),T=(0,Zr.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],c,{onSuccess:async u=>{await r(),x&&a(x),u!==!1&&!x&&(typeof u=="string"?o==="legacy"?a(u):s({to:u,type:"replace"}):o==="legacy"?a("/"):s({to:"/",type:"replace"})),l==null||l("login-error")},onError:u=>{f==null||f(_r(u))},...e?t:{}});return e?T:U}var _r=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"});var Jr=C("@tanstack/react-query");function Xr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),o=O(),s=ne(),{replace:a}=se(),{register:n}=ee(),{register:i}=oe(),{close:m,open:l}=Pe(),f=(0,Jr.useMutation)(["useRegister"],i,{onSuccess:async({success:g,redirectTo:x,error:U})=>{g&&(m==null||m("register-error")),(U||!g)&&(l==null||l(Yr(U))),await r(),x?o==="legacy"?a(x):s({to:x,type:"replace"}):o==="legacy"&&a("/")},onError:g=>{l==null||l(Yr(g))},...e===!0?{}:t}),c=(0,Jr.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],n,{onSuccess:async g=>{await r(),g!==!1&&(g?o==="legacy"?a(g):s({to:g,type:"replace"}):o==="legacy"?a("/"):s({to:"/",type:"replace"}),m==null||m("register-error"))},onError:g=>{l==null||l(Yr(g))},...e?t:{}});return e?c:f}var Yr=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"});var eo=C("@tanstack/react-query");function to({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=O(),o=ne(),{replace:s}=se(),{forgotPassword:a}=ee(),{forgotPassword:n}=oe(),{close:i,open:m}=Pe(),l=(0,eo.useMutation)(["useForgotPassword"],n,{onSuccess:({success:c,redirectTo:g,error:x})=>{c&&(i==null||i("forgot-password-error")),(x||!c)&&(m==null||m(qr(x))),g&&(r==="legacy"?s(g):o({to:g,type:"replace"}))},onError:c=>{m==null||m(qr(c))},...e===!0?{}:t}),f=(0,eo.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],a,{onSuccess:c=>{c!==!1&&c&&(r==="legacy"?s(c):o({to:c,type:"replace"})),i==null||i("forgot-password-error")},onError:c=>{m==null||m(qr(c))},...e?t:{}});return e?f:l}var qr=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"});var ds=M(C("react")),oo=C("@tanstack/react-query"),ms=M(C("qs"));function so({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=O(),o=ne(),{replace:s}=se(),{updatePassword:a}=ee(),{updatePassword:n}=oe(),{close:i,open:m}=Pe(),l=Y(),{useLocation:f}=z(),{search:c}=f(),g=ds.default.useMemo(()=>{var T;if(r==="legacy"){let u=ms.default.parse(c,{ignoreQueryPrefix:!0});return u!=null?u:{}}else return(T=l.params)!=null?T:{}},[c,l,r]),x=(0,oo.useMutation)(["useUpdatePassword"],async T=>n==null?void 0:n({...g,...T}),{onSuccess:({success:T,redirectTo:u,error:d})=>{T&&(i==null||i("update-password-error")),(d||!T)&&(m==null||m(ro(d))),u&&(r==="legacy"?s(u):o({to:u,type:"replace"}))},onError:T=>{m==null||m(ro(T))},...e===!0?{}:t}),U=(0,oo.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async T=>a==null?void 0:a({...g,...T}),{onSuccess:T=>{T!==!1&&T&&(r==="legacy"?s(T):o({to:T,type:"replace"})),i==null||i("update-password-error")},onError:T=>{m==null||m(ro(T))},...e?t:{}});return e?U:x}var ro=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"});var no=C("@tanstack/react-query");function or({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ee(),{check:o}=oe(),s=(0,no.useQuery)(["useAuthenticated",t],async()=>{var n;return(n=await(o==null?void 0:o(t)))!=null?n:{}},{retry:!1,enabled:!e}),a=(0,no.useQuery)(["useAuthenticated",t,"v3LegacyAuthProviderCompatible"],async()=>{var n;return(n=await(r==null?void 0:r(t)))!=null?n:{}},{retry:!1,enabled:e});return e?a:s}var ia=or;var ao=C("@tanstack/react-query");function te({v3LegacyAuthProviderCompatible:e=!1}={}){let t=O(),r=ne(),{replace:o}=se(),{checkError:s}=ee(),{onError:a}=oe(),{mutate:n}=rr({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:i}=rr({v3LegacyAuthProviderCompatible:Boolean(e)}),m=(0,ao.useMutation)(["useCheckError"],a,{onSuccess:({logout:f,redirectTo:c})=>{if(f){i({redirectPath:c});return}if(c){t==="legacy"?o(c):r({to:c,type:"replace"});return}}}),l=(0,ao.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],s,{onError:f=>{n({redirectPath:f})}});return e?l:m}var ua=te;var io=()=>{let{isProvided:e}=ee(),{isProvided:t}=oe();return Boolean(t||e)};var Es=C("@tanstack/react-query");var wt=e=>e/1e3;var fs=M(C("lodash/zip")),ys=M(C("lodash/fromPairs")),sr=(e,t=r=>r)=>{let[r,...o]=e;return o.map(s=>(0,ys.default)((0,fs.default)(r,s))).map((s,a,n)=>t.call(void 0,s,a,n))};var po=M(C("pluralize"));var nr=M(C("qs")),uo=M(C("lodash/unionWith")),co=M(C("lodash/differenceWith")),gs=M(C("warn-once"));var ar=e=>{var n;let{current:t,pageSize:r,sorter:o,sorters:s,filters:a}=nr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:(n=h(s,o))!=null?n:[],parsedFilters:a!=null?a:[]}},ca=e=>{let t=nr.default.stringify(e);return ar(`/${t}`)},ir=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:s,filters:a,...n}=e;return nr.default.stringify({...n,...r||{},sorters:h(s,o),filters:a},t)},Ts=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Rs=(e,t)=>e.field==t.field,Pt=(e,t,r=[])=>(t.filter(s=>(s.operator==="or"||s.operator==="and")&&!s.key).length>1&&(0,gs.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,uo.default)(e,t,r,Ts).filter(s=>s.value!==void 0&&s.value!==null&&(s.operator!=="or"||s.operator==="or"&&s.value.length!==0)&&(s.operator!=="and"||s.operator==="and"&&s.value.length!==0))),ur=(e,t)=>(0,uo.default)(e,t,Rs).filter(r=>r.order!==void 0&&r.order!==null),cr=(e,t)=>[...(0,co.default)(t,e,Ts),...e],pr=(e,t)=>[...(0,co.default)(t,e,Rs),...e],pa=(e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},la=(e,t,r="eq")=>{let o=t==null?void 0:t.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:a,field:n}=s;return n===e&&a===r}});if(o)return o.value||[]};var da=e=>new Promise((t,r)=>{let o=new FileReader,s=()=>{o.result&&(o.removeEventListener("load",s,!1),t(o.result))};o.addEventListener("load",s,!1),o.readAsDataURL(e.originFileObj),o.onerror=a=>(o.removeEventListener("load",s,!1),r(a))});var Ct=(e="",t)=>{let r=it(e);return t==="singular"?po.default.singular(r):po.default.plural(r)};var xs=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e;var h=(...e)=>e.find(t=>typeof t<"u");var J=(e,t,r,o)=>{let s=t||"default",a={all:[s],resourceAll:[s,e||""],list:n=>[...a.resourceAll,"list",{...n,...h(r,o)||{}}],many:n=>[...a.resourceAll,"getMany",n&&n.map(String),{...h(r,o)||{}}].filter(i=>i!==void 0),detail:n=>[...a.resourceAll,"detail",n==null?void 0:n.toString(),{...h(r,o)||{}}],logList:n=>["logList",e,n,o].filter(i=>i!==void 0)};return a};var lo=(e,t)=>!e||!t?!1:!!e.find(r=>r===t);var ut=e=>e.startsWith(":");var Ve=e=>e.split("/").filter(r=>r!=="");var mo=(e,t)=>{let r=Ve(e),o=Ve(t);return r.length===o.length};var me=e=>e.replace(/^\/|\/$/g,"");var fo=(e,t)=>{let r=me(e),o=me(t);if(!mo(r,o))return!1;let s=Ve(r);return Ve(o).every((n,i)=>ut(n)||n===s[i])};var yo=(e,t,r)=>{let o=me(r||""),s=`${o}${o?"/":""}${e}`;return t==="list"?s=`${s}`:t==="create"?s=`${s}/create`:t==="edit"?s=`${s}/edit/:id`:t==="show"?s=`${s}/show/:id`:t==="clone"&&(s=`${s}/clone/:id`),`/${s.replace(/^\//,"")}`};var he=(e,t)=>{var s,a;let r=h((s=e.meta)==null?void 0:s.parent,(a=e.options)==null?void 0:a.parent,e.parentName);if(!r)return;let o=t.find(n=>{var i;return((i=n.identifier)!=null?i:n.name)===r});return o!=null?o:{name:r}};var At=(e,t,r)=>{let o=[],s=he(e,t);for(;s;)o.push(s),s=he(s,t);if(o.length!==0)return`/${o.reverse().map(a=>{var i,m;let n=r&&(m=(i=a.options)==null?void 0:i.route)!=null?m:a.name;return me(n)}).join("/")}`};var pe=(e,t,r)=>{let o=[],s=["list","show","edit","create","clone"],a=At(e,t,r);return s.forEach(n=>{var l,f,c,g;let i=r&&n==="clone"?e.create:e[n],m;typeof i=="function"||r?m=yo(r&&(g=(c=(l=e.meta)==null?void 0:l.route)!=null?c:(f=e.options)==null?void 0:f.route)!=null?g:e.name,n,r?a:void 0):typeof i=="string"?m=i:typeof i=="object"&&(m=i.path),m&&o.push({action:n,resource:e,route:`/${m.replace(/^\//,"")}`})}),o};var Ps=e=>{var s,a;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(n=>({...n,splitted:Ve(me(n.route))})),r=(a=(s=t[0])==null?void 0:s.splitted.length)!=null?a:0,o=[...t];for(let n=0;n<r;n++){let i=o.filter(m=>!ut(m.splitted[n]));if(i.length!==0){if(i.length===1){o=i;break}o=i}}return o[0]};var go=(e,t)=>{let o=t.flatMap(a=>pe(a,t)).filter(a=>fo(e,a.route)),s=Ps(o);return{found:!!s,resource:s==null?void 0:s.resource,action:s==null?void 0:s.action,matchedRoute:s==null?void 0:s.route}};var lr=(e,t)=>{var s,a,n;let r,o=At(e,t,!0);if(o){let i=h(e.meta,e.options);r=`${o}/${(s=i==null?void 0:i.route)!=null?s:e.name}`}else r=(n=(a=e.options)==null?void 0:a.route)!=null?n:e.name;return`/${r.replace(/^\//,"")}`};var Cs=e=>{var n,i,m;let t=[],r={},o={},s,a;for(let l=0;l<e.length;l++){s=e[l];let f=(m=(i=s.route)!=null?i:(n=h(s==null?void 0:s.meta,s.options))==null?void 0:n.route)!=null?m:"";r[f]=s,r[f].children=[],o[s.name]=s,o[s.name].children=[]}for(let l in r)r.hasOwnProperty(l)&&(a=r[l],a.parentName&&o[a.parentName]?o[a.parentName].children.push(a):t.push(a));return t};var it=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e);var Ro=M(C("react"));var hs=M(C("react")),To=({children:e})=>hs.default.createElement("div",null,e);var Qe={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},ye=Ro.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:To,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Qe}),bs=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:s,children:a,DashboardPage:n,Title:i,Layout:m=To,Header:l,Sider:f,Footer:c,OffLayoutArea:g,LoginPage:x=xo,catchAll:U,liveMode:T="off",onLiveEvent:u,options:d})=>Ro.default.createElement(ye.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:i,undoableTimeout:s,Layout:m,Header:l,Sider:f,Footer:c,OffLayoutArea:g,DashboardPage:n,LoginPage:x,catchAll:U,liveMode:T,onLiveEvent:u,options:d}},a);var Po=({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:s,reactQueryDevtoolConfig:a,syncWithLocation:n,undoableTimeout:i,warnWhenUnsavedChanges:m}={})=>{var g,x,U,T,u,d,R,b,v,y,p,P,D,E,L,I,A,w,k,B,H,S,F,$;let l={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(x=(g=e==null?void 0:e.mutationMode)!=null?g:o)!=null?x:Qe.mutationMode,undoableTimeout:(T=(U=e==null?void 0:e.undoableTimeout)!=null?U:i)!=null?T:Qe.undoableTimeout,syncWithLocation:(d=(u=e==null?void 0:e.syncWithLocation)!=null?u:n)!=null?d:Qe.syncWithLocation,warnWhenUnsavedChanges:(b=(R=e==null?void 0:e.warnWhenUnsavedChanges)!=null?R:m)!=null?b:Qe.warnWhenUnsavedChanges,liveMode:(y=(v=e==null?void 0:e.liveMode)!=null?v:r)!=null?y:Qe.liveMode,redirect:{afterCreate:(P=(p=e==null?void 0:e.redirect)==null?void 0:p.afterCreate)!=null?P:Qe.redirect.afterCreate,afterClone:(E=(D=e==null?void 0:e.redirect)==null?void 0:D.afterClone)!=null?E:Qe.redirect.afterClone,afterEdit:(I=(L=e==null?void 0:e.redirect)==null?void 0:L.afterEdit)!=null?I:Qe.redirect.afterEdit}},f=(w=(A=e==null?void 0:e.disableTelemetry)!=null?A:t)!=null?w:!1,c={clientConfig:(H=(B=(k=e==null?void 0:e.reactQuery)==null?void 0:k.clientConfig)!=null?B:s)!=null?H:{},devtoolConfig:($=(F=(S=e==null?void 0:e.reactQuery)==null?void 0:S.devtoolConfig)!=null?F:a)!=null?$:{}};return{optionsWithDefaults:l,disableTelemetryWithDefault:f,reactQueryWithDefaults:c}};var Co=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}};var dr=async(e,t,r)=>{let o=[];for(let[s,a]of e.entries())try{let n=await a();o.push(t(n,s))}catch(n){o.push(r(n,s))}return o};var W=(e,t=[],r=!1)=>{if(!e)return;if(r){let s=t.find(n=>{var i;return me((i=n.route)!=null?i:"")===me(e)});return s||t.find(n=>n.name===e)}return t.find(s=>{var a;return((a=s.identifier)!=null?a:s.name)===e})};var Q=(e,t,r)=>{if(t)return t;let o=W(e,r),s=h(o==null?void 0:o.meta,o==null?void 0:o.options);return s!=null&&s.dataProviderName?s.dataProviderName:"default"};var $e=async e=>({data:(await Promise.all(e)).map(t=>t.data)});var mr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,s=(t==null?void 0:t.pageSize)||10,a=Math.ceil((e.total||0)/s);return o<a?Number(o)+1:void 0},fr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1};var yr=e=>{let t=[];return e==null||e.forEach(r=>{var o,s,a;t.push({...r,label:(a=(o=r.meta)==null?void 0:o.label)!=null?a:(s=r.options)==null?void 0:s.label,route:lr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t};var vs=e=>Ve(me(e)).flatMap(r=>ut(r)?[r.slice(1)]:[]);var Ds=(e,t={},r={})=>e.reduce((o,s)=>{var n;let a=r[s]||((n=t.params)==null?void 0:n[s])||(s==="id"?t.id:void 0)||(s==="action"?t.action:void 0)||(s==="resource"?t.resource:void 0);return typeof a<"u"&&(o[s]=a),o},{});var fe=(e,t={},r={})=>{let o=vs(e),s=Ds(o,t,r);return e.replace(/:([^\/]+)/g,(a,n)=>{let i=s[n];return typeof i<"u"?`${i}`:a})};var K=()=>{let e=ee(),t=oe();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null};var St=({hasPagination:e,pagination:t,configPagination:r}={})=>{var i,m,l;let o=e===!1?"off":"server",s=(i=t==null?void 0:t.mode)!=null?i:o,a=(m=h(t==null?void 0:t.current,r==null?void 0:r.current))!=null?m:1,n=(l=h(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?l:10;return{current:a,pageSize:n,mode:s}};var gr=C("react"),Tr=e=>{let[t,r]=(0,gr.useState)(!1);return(0,gr.useEffect)(()=>{let o=window.matchMedia(e);o.matches!==t&&r(o.matches);let s=()=>r(o.matches);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[t,e]),t};var kt=({resource:e,config:t,filters:r,hasPagination:o,pagination:s,sorters:a,queryOptions:n,successNotification:i,errorNotification:m,meta:l,metaData:f,liveMode:c,onLiveEvent:g,liveParams:x,dataProviderName:U})=>{let{resources:T}=V(),u=j(),d=N(),R=K(),{mutate:b}=te({v3LegacyAuthProviderCompatible:Boolean(R==null?void 0:R.isLegacy)}),v=re(),y=Q(e,U,T),p=h(l,f),P=h(r,t==null?void 0:t.filters),D=h(a,t==null?void 0:t.sort),E=h(o,t==null?void 0:t.hasPagination),L=St({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:E}),I=L.mode==="server",A={meta:p,metaData:p,filters:P,hasPagination:I,pagination:L,sorters:D,config:{...t,sort:D}},w=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,k=J(e,y,p,p),{getList:B}=u(y);return qe({resource:e,types:["*"],params:{meta:p,metaData:p,pagination:L,hasPagination:I,sort:D,sorters:D,filters:P,subscriptionType:"useList",...x},channel:`resources/${e}`,enabled:w,liveMode:c,onLiveEvent:g}),(0,Es.useQuery)(k.list({filters:P,hasPagination:I,...I&&{pagination:L},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:S,pageParam:F,signal:$})=>B({resource:e,pagination:L,hasPagination:I,filters:P,sort:D,sorters:D,meta:{...p||{},queryContext:{queryKey:S,pageParam:F,signal:$}},metaData:{...p||{},queryContext:{queryKey:S,pageParam:F,signal:$}}}),{...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!e,select:S=>{var _;let F=S,{current:$,mode:xe,pageSize:Ue}=L;return xe==="client"&&(F={...F,data:F.data.slice(($-1)*Ue,$*Ue),total:F.total}),n!=null&&n.select?(_=n==null?void 0:n.select)==null?void 0:_.call(n,F):F},onSuccess:S=>{var $;($=n==null?void 0:n.onSuccess)==null||$.call(n,S);let F=typeof i=="function"?i(S,A,e):i;v(F)},onError:S=>{var $;b(S),($=n==null?void 0:n.onError)==null||$.call(n,S);let F=typeof m=="function"?m(S,A,e):m;v(F,{key:`${e}-useList-notification`,message:d("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}})};var Us=C("@tanstack/react-query");var Vt=({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:s,meta:a,metaData:n,liveMode:i,onLiveEvent:m,liveParams:l,dataProviderName:f})=>{let{resources:c}=V(),g=j(),x=J(e,Q(e,f,c),h(a,n),h(a,n)),{getOne:U}=g(Q(e,f,c)),T=N(),u=K(),{mutate:d}=te({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),R=re();return qe({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:h(a,n),metaData:h(a,n),subscriptionType:"useOne",...l},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:i,onLiveEvent:m}),(0,Us.useQuery)(x.detail(t),({queryKey:v,pageParam:y,signal:p})=>U({resource:e,id:t,meta:{...h(a,n)||{},queryContext:{queryKey:v,pageParam:y,signal:p}},metaData:{...h(a,n)||{},queryContext:{queryKey:v,pageParam:y,signal:p}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:v=>{var p;(p=r==null?void 0:r.onSuccess)==null||p.call(r,v);let y=typeof o=="function"?o(v,{id:t,...h(a,n)||{}},e):o;R(y)},onError:v=>{var p;d(v),(p=r==null?void 0:r.onError)==null||p.call(r,v);let y=typeof s=="function"?s(v,{id:t,...h(a,n)||{}},e):s;R(y,{key:`${t}-${e}-getOne-notification`,message:T("notifications.error",{statusCode:v.statusCode},`Error (status code: ${v.statusCode})`),description:v.message,type:"error"})}})};var Ls=C("@tanstack/react-query");var ho=({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:s,meta:a,metaData:n,liveMode:i,onLiveEvent:m,liveParams:l,dataProviderName:f})=>{let{resources:c}=V(),g=j(),x=J(e,Q(e,f,c),h(a,n),h(a,n)),{getMany:U,getOne:T}=g(Q(e,f,c)),u=N(),d=K(),{mutate:R}=te({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),b=re(),v=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return qe({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:h(a,n),metaData:h(a,n),subscriptionType:"useMany",...l},channel:`resources/${e}`,enabled:v,liveMode:i,onLiveEvent:m}),(0,Ls.useQuery)(x.many(t),({queryKey:p,pageParam:P,signal:D})=>U?U({resource:e,ids:t,metaData:{...h(a,n)||{},queryContext:{queryKey:p,pageParam:P,signal:D}}}):$e(t.map(E=>T({resource:e,id:E,metaData:{...h(a,n)||{},queryContext:{queryKey:p,pageParam:P,signal:D}}}))),{...r,onSuccess:p=>{var D;(D=r==null?void 0:r.onSuccess)==null||D.call(r,p);let P=typeof o=="function"?o(p,t,e):o;b(P)},onError:p=>{var D;R(p),(D=r==null?void 0:r.onError)==null||D.call(r,p);let P=typeof s=="function"?s(p,t,e):s;b(P,{key:`${t[0]}-${e}-getMany-notification`,message:u("notifications.error",{statusCode:p.statusCode},`Error (status code: ${p.statusCode})`),description:p.message,type:"error"})}})};var Pr=C("@tanstack/react-query");var ht=M(C("react")),Rr=M(C("lodash-es/isEqual"));var xr=ht.default.createContext({notifications:[],notificationDispatch:()=>!1}),ma=[],fa=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(o=>!((0,Rr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(o=>!((0,Rr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(o=>(0,Rr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource?{...o,seconds:t.payload.seconds-1e3}:o);default:return e}},bo=({children:e})=>{let[t,r]=(0,ht.useReducer)(fa,ma),o={notifications:t,notificationDispatch:r};return ht.default.createElement(xr.Provider,{value:o},e,typeof window<"u"&&t.map(s=>ht.default.createElement(Is,{key:`${s.id}-${s.resource}-queue`,notification:s})))};var vo=M(C("pluralize"));var Do=({mutationOptions:e}={})=>{let{resources:t}=V(),r=(0,Pr.useQueryClient)(),o=j(),{mutationMode:s,undoableTimeout:a}=Se(),n=N(),i=K(),{mutate:m}=te({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),l=ve(),{log:f}=De(),{notificationDispatch:c}=Be(),g=re(),x=Ee();return(0,Pr.useMutation)(({id:T,values:u,resource:d,mutationMode:R,undoableTimeout:b,onCancel:v,meta:y,metaData:p,dataProviderName:P})=>{let D=R!=null?R:s,E=b!=null?b:a;return D!=="undoable"?o(Q(d,P,t)).update({resource:d,id:T,variables:u,meta:h(y,p),metaData:h(y,p)}):new Promise((I,A)=>{let w=()=>{o(Q(d,P,t)).update({resource:d,id:T,variables:u,meta:h(y,p),metaData:h(y,p)}).then(B=>I(B)).catch(B=>A(B))},k=()=>{A({message:"mutationCancelled"})};v&&v(k),c({type:"ADD",payload:{id:T,resource:d,cancelMutation:k,doMutation:w,seconds:E,isSilent:!!v}})})},{onMutate:async({resource:T,id:u,mutationMode:d,values:R,dataProviderName:b})=>{let v=J(T,Q(T,b,t)),y=r.getQueriesData(v.resourceAll),p=d!=null?d:s;return await r.cancelQueries(v.resourceAll,void 0,{silent:!0}),p!=="pessimistic"&&(r.setQueriesData(v.list(),P=>{if(!P)return null;let D=P.data.map(E=>{var L;return((L=E.id)==null?void 0:L.toString())===(u==null?void 0:u.toString())?{id:u,...E,...R}:E});return{...P,data:D}}),r.setQueriesData(v.many(),P=>{if(!P)return null;let D=P.data.map(E=>{var L;return((L=E.id)==null?void 0:L.toString())===(u==null?void 0:u.toString())&&(E={id:u,...E,...R}),E});return{...P,data:D}}),r.setQueriesData(v.detail(u),P=>P?{...P,data:{...P.data,...R}}:null)),{previousQueries:y,queryKey:v}},onSettled:(T,u,{id:d,resource:R,dataProviderName:b,invalidates:v=["list","many","detail"]})=>{x({resource:R,dataProviderName:Q(R,b,t),invalidates:v,id:d}),c({type:"REMOVE",payload:{id:d,resource:R}})},onSuccess:(T,{id:u,resource:d,successNotification:R,dataProviderName:b,values:v,meta:y,metaData:p},P)=>{var B;let D=vo.default.singular(d),E=typeof R=="function"?R(T,{id:u,values:v},d):R;g(E,{key:`${u}-${d}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${d}.${d}`,D)},`Successfully updated ${D}`),type:"success"}),l==null||l({channel:`resources/${d}`,type:"updated",payload:{ids:(B=T.data)!=null&&B.id?[T.data.id]:void 0},date:new Date});let L;if(P){let H=r.getQueryData(P.queryKey.detail(u));L=Object.keys(v||{}).reduce((S,F)=>{var $;return S[F]=($=H==null?void 0:H.data)==null?void 0:$[F],S},{})}let{fields:I,operation:A,variables:w,...k}=h(y,p)||{};f==null||f.mutate({action:"update",resource:d,data:v,previousData:L,meta:{id:u,dataProviderName:Q(d,b,t),...k}})},onError:(T,{id:u,resource:d,errorNotification:R,values:b},v)=>{if(v)for(let y of v.previousQueries)r.setQueryData(y[0],y[1]);if(T.message!=="mutationCancelled"){m==null||m(T);let y=vo.default.singular(d),p=typeof R=="function"?R(T,{id:u,values:b},d):R;g(p,{key:`${u}-${d}-notification`,message:n("notifications.editError",{resource:n(`${d}.${d}`,y),statusCode:T.statusCode},`Error when updating ${y} (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var Ms=C("@tanstack/react-query"),Eo=M(C("pluralize"));var Qt=({mutationOptions:e}={})=>{let t=K(),{mutate:r}=te({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=j(),s=Ee(),{resources:a}=V(),n=N(),i=ve(),{log:m}=De(),l=re();return(0,Ms.useMutation)(({resource:c,values:g,meta:x,metaData:U,dataProviderName:T})=>o(Q(c,T,a)).create({resource:c,variables:g,meta:h(x,U),metaData:h(x,U)}),{onSuccess:(c,{resource:g,successNotification:x,dataProviderName:U,invalidates:T=["list","many"],values:u,meta:d,metaData:R})=>{var E,L,I;let b=Eo.default.singular(g),v=typeof x=="function"?x(c,u,g):x;l(v,{key:`create-${g}-notification`,message:n("notifications.createSuccess",{resource:n(`${g}.${g}`,b)},`Successfully created ${b}`),description:n("notifications.success","Success"),type:"success"}),s({resource:g,dataProviderName:Q(g,U,a),invalidates:T}),i==null||i({channel:`resources/${g}`,type:"created",payload:{ids:(E=c==null?void 0:c.data)!=null&&E.id?[c.data.id]:void 0},date:new Date});let{fields:y,operation:p,variables:P,...D}=h(d,R)||{};m==null||m.mutate({action:"create",resource:g,data:u,meta:{dataProviderName:Q(g,U,a),id:(I=(L=c==null?void 0:c.data)==null?void 0:L.id)!=null?I:void 0,...D}})},onError:(c,{resource:g,errorNotification:x,values:U})=>{r(c);let T=Eo.default.singular(g),u=typeof x=="function"?x(c,U,g):x;l(u,{key:`create-${g}-notification`,description:c.message,message:n("notifications.createError",{resource:n(`${g}.${g}`,T),statusCode:c.statusCode},`There was an error creating ${T} (status code: ${c.statusCode})`),type:"error"})},...e})};var Cr=C("@tanstack/react-query"),Uo=M(C("pluralize"));var ya=({mutationOptions:e}={})=>{let t=K(),{mutate:r}=te({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=j(),{resources:s}=V(),a=(0,Cr.useQueryClient)(),{mutationMode:n,undoableTimeout:i}=Se(),{notificationDispatch:m}=Be(),l=N(),f=ve(),{log:c}=De(),g=re(),x=Ee();return(0,Cr.useMutation)(({id:T,mutationMode:u,undoableTimeout:d,resource:R,onCancel:b,meta:v,metaData:y,dataProviderName:p,values:P})=>{let D=u!=null?u:n,E=d!=null?d:i;return D!=="undoable"?o(Q(R,p,s)).deleteOne({resource:R,id:T,meta:h(v,y),metaData:h(v,y),variables:P}):new Promise((I,A)=>{let w=()=>{o(Q(R,p,s)).deleteOne({resource:R,id:T,meta:h(v,y),variables:P}).then(B=>I(B)).catch(B=>A(B))},k=()=>{A({message:"mutationCancelled"})};b&&b(k),m({type:"ADD",payload:{id:T,resource:R,cancelMutation:k,doMutation:w,seconds:E,isSilent:!!b}})})},{onMutate:async({id:T,resource:u,mutationMode:d,dataProviderName:R})=>{let b=J(u,Q(u,R,s)),v=d!=null?d:n;await a.cancelQueries(b.resourceAll,void 0,{silent:!0});let y=a.getQueriesData(b.resourceAll);return v!=="pessimistic"&&(a.setQueriesData(b.list(),p=>p?{data:p.data.filter(D=>{var E;return((E=D.id)==null?void 0:E.toString())!==T.toString()}),total:p.total-1}:null),a.setQueriesData(b.many(),p=>{if(!p)return null;let P=p.data.filter(D=>{var E;return((E=D.id)==null?void 0:E.toString())!==(T==null?void 0:T.toString())});return{...p,data:P}})),{previousQueries:y,queryKey:b}},onSettled:(T,u,{id:d,resource:R,dataProviderName:b,invalidates:v=["list","many"]})=>{x({resource:R,dataProviderName:Q(R,b,s),invalidates:v}),m({type:"REMOVE",payload:{id:d,resource:R}})},onSuccess:(T,{id:u,resource:d,successNotification:R,dataProviderName:b,meta:v,metaData:y},p)=>{let P=Uo.default.singular(d!=null?d:"");a.removeQueries(p==null?void 0:p.queryKey.detail(u));let D=typeof R=="function"?R(T,u,d):R;g(D,{key:`${u}-${d}-notification`,description:l("notifications.success","Success"),message:l("notifications.deleteSuccess",{resource:l(`${d}.${d}`,P)},`Successfully deleted a ${P}`),type:"success"}),f==null||f({channel:`resources/${d}`,type:"deleted",payload:{ids:u?[u]:[]},date:new Date});let{fields:E,operation:L,variables:I,...A}=h(v,y)||{};c==null||c.mutate({action:"delete",resource:d,meta:{id:u,dataProviderName:Q(d,b,s),...A}}),a.removeQueries(p==null?void 0:p.queryKey.detail(u))},onError:(T,{id:u,resource:d,errorNotification:R},b)=>{if(b)for(let v of b.previousQueries)a.setQueryData(v[0],v[1]);if(T.message!=="mutationCancelled"){r(T);let v=Uo.default.singular(d!=null?d:""),y=typeof R=="function"?R(T,u,d):R;g(y,{key:`${u}-${d}-notification`,message:l("notifications.deleteError",{resource:v,statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var ws=C("@tanstack/react-query"),As=M(C("pluralize"));var Lo=({mutationOptions:e}={})=>{let t=j(),{resources:r}=V(),o=N(),s=ve(),a=re(),n=Ee(),{log:i}=De();return(0,ws.useMutation)(({resource:l,values:f,meta:c,metaData:g,dataProviderName:x})=>{let U=t(Q(l,x,r));return U.createMany?U.createMany({resource:l,variables:f,meta:h(c,g),metaData:h(c,g)}):$e(f.map(T=>U.create({resource:l,variables:T,meta:h(c,g),metaData:h(c,g)})))},{onSuccess:(l,{resource:f,successNotification:c,dataProviderName:g,invalidates:x=["list","many"],values:U,meta:T,metaData:u})=>{let d=As.default.plural(f),R=typeof c=="function"?c(l,U,f):c;a(R,{key:`createMany-${f}-notification`,message:o("notifications.createSuccess",{resource:o(`${f}.${f}`,f)},`Successfully created ${d}`),description:o("notifications.success","Success"),type:"success"}),n({resource:f,dataProviderName:Q(f,g,r),invalidates:x});let b=l==null?void 0:l.data.filter(D=>(D==null?void 0:D.id)!==void 0).map(D=>D.id);s==null||s({channel:`resources/${f}`,type:"created",payload:{ids:b},date:new Date});let{fields:v,operation:y,variables:p,...P}=h(T,u)||{};i==null||i.mutate({action:"createMany",resource:f,data:U,meta:{dataProviderName:Q(f,g,r),ids:b,...P}})},onError:(l,{resource:f,errorNotification:c,values:g})=>{let x=typeof c=="function"?c(l,g,f):c;a(x,{key:`createMany-${f}-notification`,description:l.message,message:o("notifications.createError",{resource:o(`${f}.${f}`,f),statusCode:l.statusCode},`There was an error creating ${f} (status code: ${l.statusCode}`),type:"error"})},...e})};var hr=C("@tanstack/react-query"),Io=M(C("pluralize"));var ga=({mutationOptions:e}={})=>{let{resources:t}=V(),r=(0,hr.useQueryClient)(),o=j(),s=N(),{mutationMode:a,undoableTimeout:n}=Se(),i=K(),{mutate:m}=te({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),{notificationDispatch:l}=Be(),f=ve(),c=re(),g=Ee(),{log:x}=De();return(0,hr.useMutation)(({ids:T,values:u,resource:d,onCancel:R,mutationMode:b,undoableTimeout:v,meta:y,metaData:p,dataProviderName:P})=>{let D=b!=null?b:a,E=v!=null?v:n,L=o(Q(d,P,t)),I=()=>L.updateMany?L.updateMany({resource:d,ids:T,variables:u,meta:h(y,p),metaData:h(y,p)}):$e(T.map(w=>L.update({resource:d,id:w,variables:u,meta:h(y,p),metaData:h(y,p)})));return D!=="undoable"?I():new Promise((w,k)=>{let B=()=>{I().then(S=>w(S)).catch(S=>k(S))},H=()=>{k({message:"mutationCancelled"})};R&&R(H),l({type:"ADD",payload:{id:T,resource:d,cancelMutation:H,doMutation:B,seconds:E,isSilent:!!R}})})},{onMutate:async({resource:T,ids:u,values:d,mutationMode:R,dataProviderName:b,meta:v,metaData:y})=>{let p=J(T,Q(T,b,t),h(v,y),h(v,y)),P=R!=null?R:a;await r.cancelQueries(p.resourceAll,void 0,{silent:!0});let D=r.getQueriesData(p.resourceAll);if(P!=="pessimistic"){r.setQueriesData(p.list(),E=>{if(!E)return null;let L=E.data.map(I=>I.id!==void 0&&u.filter(A=>A!==void 0).map(String).includes(I.id.toString())?{...I,...d}:I);return{...E,data:L}}),r.setQueriesData(p.many(),E=>{if(!E)return null;let L=E.data.map(I=>I.id!==void 0&&u.filter(A=>A!==void 0).map(String).includes(I.id.toString())?{...I,...d}:I);return{...E,data:L}});for(let E of u)r.setQueriesData(p.detail(E),L=>{if(!L)return null;let I={...L.data,...d};return{...L,data:I}})}return{previousQueries:D,queryKey:p}},onSettled:(T,u,{ids:d,resource:R,dataProviderName:b})=>{g({resource:R,invalidates:["list","many"],dataProviderName:Q(R,b,t)}),d.forEach(v=>g({resource:R,invalidates:["detail"],dataProviderName:Q(R,b,t),id:v})),l({type:"REMOVE",payload:{id:d,resource:R}})},onSuccess:(T,{ids:u,resource:d,meta:R,metaData:b,dataProviderName:v,successNotification:y,values:p},P)=>{let D=Io.default.singular(d),E=typeof y=="function"?y(T,{ids:u,values:p},d):y;c(E,{key:`${u}-${d}-notification`,description:s("notifications.success","Successful"),message:s("notifications.editSuccess",{resource:s(`${d}.${d}`,d)},`Successfully updated ${D}`),type:"success"}),f==null||f({channel:`resources/${d}`,type:"updated",payload:{ids:u.map(String)},date:new Date});let L=[];P&&u.forEach(B=>{let H=r.getQueryData(P.queryKey.detail(B));L.push(Object.keys(p||{}).reduce((S,F)=>{var $;return S[F]=($=H==null?void 0:H.data)==null?void 0:$[F],S},{}))});let{fields:I,operation:A,variables:w,...k}=h(R,b)||{};x==null||x.mutate({action:"updateMany",resource:d,data:p,previousData:L,meta:{ids:u,dataProviderName:Q(d,v,t),...k}})},onError:(T,{ids:u,resource:d,errorNotification:R,values:b},v)=>{if(v)for(let y of v.previousQueries)r.setQueryData(y[0],y[1]);if(T.message!=="mutationCancelled"){m==null||m(T);let y=Io.default.singular(d),p=typeof R=="function"?R(T,{ids:u,values:b},d):R;c(p,{key:`${u}-${d}-updateMany-error-notification`,message:s("notifications.editError",{resource:y,statusCode:T.statusCode},`Error when updating ${y} (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var br=C("@tanstack/react-query"),Ss=M(C("pluralize"));var Ta=({mutationOptions:e}={})=>{let t=K(),{mutate:r}=te({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:o,undoableTimeout:s}=Se(),a=j(),{notificationDispatch:n}=Be(),i=N(),m=ve(),l=re(),f=Ee(),{log:c}=De(),{resources:g}=V(),x=(0,br.useQueryClient)();return(0,br.useMutation)(({resource:T,ids:u,mutationMode:d,undoableTimeout:R,onCancel:b,meta:v,metaData:y,dataProviderName:p,values:P})=>{let D=d!=null?d:o,E=R!=null?R:s,L=a(Q(T,p,g)),I=()=>L.deleteMany?L.deleteMany({resource:T,ids:u,meta:h(v,y),metaData:h(v,y),variables:P}):$e(u.map(w=>L.deleteOne({resource:T,id:w,meta:h(v,y),metaData:h(v,y),variables:P})));return D!=="undoable"?I():new Promise((w,k)=>{let B=()=>{I().then(S=>w(S)).catch(S=>k(S))},H=()=>{k({message:"mutationCancelled"})};b&&b(H),n({type:"ADD",payload:{id:u,resource:T,cancelMutation:H,doMutation:B,seconds:E,isSilent:!!b}})})},{onMutate:async({ids:T,resource:u,mutationMode:d,dataProviderName:R})=>{let b=J(u,Q(u,R,g)),v=d!=null?d:o;await x.cancelQueries(b.resourceAll,void 0,{silent:!0});let y=x.getQueriesData(b.resourceAll);if(v!=="pessimistic"){x.setQueriesData(b.list(),p=>p?{data:p.data.filter(D=>D.id&&!T.map(String).includes(D.id.toString())),total:p.total-1}:null),x.setQueriesData(b.many(),p=>{if(!p)return null;let P=p.data.filter(D=>D.id?!T.map(String).includes(D.id.toString()):!1);return{...p,data:P}});for(let p of T)x.setQueriesData(b.detail(p),P=>!P||P.data.id==p?null:{...P})}return{previousQueries:y,queryKey:b}},onSettled:(T,u,{resource:d,ids:R,dataProviderName:b,invalidates:v=["list","many"]})=>{f({resource:d,dataProviderName:Q(d,b,g),invalidates:v}),n({type:"REMOVE",payload:{id:R,resource:d}})},onSuccess:(T,{ids:u,resource:d,meta:R,metaData:b,dataProviderName:v,successNotification:y},p)=>{u.forEach(A=>x.removeQueries(p==null?void 0:p.queryKey.detail(A)));let P=typeof y=="function"?y(T,u,d):y;l(P,{key:`${u}-${d}-notification`,description:i("notifications.success","Success"),message:i("notifications.deleteSuccess",{resource:i(`${d}.${d}`,d)},`Successfully deleted ${d}`),type:"success"}),m==null||m({channel:`resources/${d}`,type:"deleted",payload:{ids:u},date:new Date});let{fields:D,operation:E,variables:L,...I}=h(R,b)||{};c==null||c.mutate({action:"deleteMany",resource:d,meta:{ids:u,dataProviderName:Q(d,v,g),...I}}),u.forEach(A=>x.removeQueries(p==null?void 0:p.queryKey.detail(A)))},onError:(T,{ids:u,resource:d,errorNotification:R},b)=>{if(b)for(let v of b.previousQueries)x.setQueryData(v[0],v[1]);if(T.message!=="mutationCancelled"){r(T);let v=Ss.default.singular(d),y=typeof R=="function"?R(T,u,d):R;l(y,{key:`${u}-${d}-notification`,message:i("notifications.deleteError",{resource:v,statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var Ra=e=>{let t=j(),{getApiUrl:r}=t(e);return r()};var ks=C("@tanstack/react-query");var xa=({url:e,method:t,config:r,queryOptions:o,successNotification:s,errorNotification:a,meta:n,metaData:i,dataProviderName:m})=>{let l=j(),{custom:f}=l(m),c=K(),{mutate:g}=te({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),x=N(),U=re();if(f)return(0,ks.useQuery)({queryKey:[m,"custom",t,e,{...r,...h(n,i)||{}}],queryFn:({queryKey:u,pageParam:d,signal:R})=>f({url:e,method:t,...r,metaData:{...h(n,i)||{},queryContext:{queryKey:u,pageParam:d,signal:R}}}),...o,onSuccess:u=>{var R;(R=o==null?void 0:o.onSuccess)==null||R.call(o,u);let d=typeof s=="function"?s(u,{...r,...h(n,i)||{}}):s;U(d)},onError:u=>{var R;g(u),(R=o==null?void 0:o.onError)==null||R.call(o,u);let d=typeof a=="function"?a(u,{...r,...h(n,i)||{}}):a;U(d,{key:`${t}-notification`,message:x("notifications.error",{statusCode:u.statusCode},`Error (status code: ${u.statusCode})`),description:u.message,type:"error"})}});throw Error("Not implemented custom on data provider.")};var Vs=C("@tanstack/react-query");var Pa=({mutationOptions:e}={})=>{let t=K(),{mutate:r}=te({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=re(),s=j(),a=N();return(0,Vs.useMutation)(({url:i,method:m,values:l,meta:f,metaData:c,dataProviderName:g,config:x})=>{let{custom:U}=s(g);if(U)return U({url:i,method:m,payload:l,meta:h(f,c),metaData:h(f,c),headers:{...x==null?void 0:x.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(i,{successNotification:m,config:l,meta:f,metaData:c})=>{let g=typeof m=="function"?m(i,{...l,...h(f,c)||{}}):m;o(g)},onError:(i,{errorNotification:m,method:l,config:f,meta:c,metaData:g})=>{r(i);let x=typeof m=="function"?m(i,{...f,...h(c,g)||{}}):m;o(x,{key:`${l}-notification`,message:a("notifications.error",{statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})},...e})};var vr=C("react");var Mo=M(C("react")),Ca=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Bt=Mo.default.createContext(Ca()),Qs=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Mo.default.createElement(Bt.Provider,{value:r},e)};var j=()=>{let e=(0,vr.useContext)(Bt);return(0,vr.useCallback)(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])};var Bs=C("@tanstack/react-query");var ha=({resource:e,config:t,filters:r,hasPagination:o,pagination:s,sorters:a,queryOptions:n,successNotification:i,errorNotification:m,meta:l,metaData:f,liveMode:c,onLiveEvent:g,liveParams:x,dataProviderName:U})=>{let{resources:T}=V(),u=j(),d=N(),R=K(),{mutate:b}=te({v3LegacyAuthProviderCompatible:Boolean(R==null?void 0:R.isLegacy)}),v=re(),y=Q(e,U,T),p=h(l,f),P=h(r,t==null?void 0:t.filters),D=h(a,t==null?void 0:t.sort),E=h(o,t==null?void 0:t.hasPagination),L=St({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:E}),I=L.mode==="server",A={meta:p,metaData:p,filters:P,hasPagination:I,pagination:L,sorters:D,config:{...t,sort:D}},w=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,k=J(e,y,p,p),{getList:B}=u(y);return qe({resource:e,types:["*"],params:{meta:p,metaData:p,pagination:L,hasPagination:I,sort:D,sorters:D,filters:P,subscriptionType:"useList",...x},channel:`resources/${e}`,enabled:w,liveMode:c,onLiveEvent:g}),(0,Bs.useInfiniteQuery)(k.list({filters:P,hasPagination:I,...I&&{pagination:L},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:S,pageParam:F,signal:$})=>{let xe={...L,current:F};return B({resource:e,pagination:xe,hasPagination:I,filters:P,sort:D,sorters:D,meta:{...p||{},queryContext:{queryKey:S,pageParam:F,signal:$}},metaData:{...p||{},queryContext:{queryKey:S,pageParam:F,signal:$}}}).then(({data:Ue,total:_,...He})=>({data:Ue,total:_,pagination:xe,...He}))},{getNextPageParam:S=>mr(S),getPreviousPageParam:S=>fr(S),...n,onSuccess:S=>{var $;($=n==null?void 0:n.onSuccess)==null||$.call(n,S);let F=typeof i=="function"?i(S,A,e):i;v(F)},onError:S=>{var $;b(S),($=n==null?void 0:n.onError)==null||$.call(n,S);let F=typeof m=="function"?m(S,A,e):m;v(F,{key:`${e}-useInfiniteList-notification`,message:d("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}})};var Nt=C("react"),Fs=C("@tanstack/react-query");var wo=M(C("react")),Ke=wo.default.createContext(void 0),Ns=({liveProvider:e,children:t})=>wo.default.createElement(Ke.Provider,{value:e},t);var qe=({resource:e,params:t,channel:r,types:o,enabled:s=!0,liveMode:a,onLiveEvent:n})=>{let i=(0,Fs.useQueryClient)(),m=J(e),l=(0,Nt.useContext)(Ke),{liveMode:f,onLiveEvent:c}=(0,Nt.useContext)(ye),g=a!=null?a:f;(0,Nt.useEffect)(()=>{let x;return g&&g!=="off"&&s&&(x=l==null?void 0:l.subscribe({channel:r,params:{resource:e,...t},types:o,callback:U=>{g==="auto"&&i.invalidateQueries(m.resourceAll),n==null||n(U),c==null||c(U)}})),()=>{x&&(l==null||l.unsubscribe(x))}},[s])};var Hs=C("react");var Os=e=>{let{liveMode:t}=(0,Hs.useContext)(ye);return e!=null?e:t};var Dr=C("react");var ed=({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:s})=>{let a=(0,Dr.useContext)(Ke);(0,Dr.useEffect)(()=>{let n;return o&&(n=a==null?void 0:a.subscribe({channel:t,params:e,types:r,callback:s})),()=>{n&&(a==null||a.unsubscribe(n))}},[o])};var $s=C("react");var ve=()=>{let e=(0,$s.useContext)(Ke);return e==null?void 0:e.publish};var qs=C("react");var Ao=M(C("react"));var zs=C("react");var Ks=C("react"),Ws=M(C("lodash-es/isEqual")),Gs=e=>{let t=(0,Ks.useRef)(e);return(0,Ws.default)(t.current,e)||(t.current=e),t.current};var Er=(e,t)=>{let r=Gs(t);return(0,zs.useMemo)(e,r)};var et=Ao.default.createContext({resources:[]}),js=({resources:e,children:t})=>{let r=Er(()=>yr(e!=null?e:[]),[e]);return Ao.default.createElement(et.Provider,{value:{resources:r}},t)};var So=M(C("react")),_s=So.default.createContext("new"),Zs=_s.Provider,O=()=>So.default.useContext(_s);var Xs=M(C("react"));var Ur=M(C("react")),Ys={},We=(0,Ur.createContext)(Ys),Js=({children:e,router:t})=>Ur.default.createElement(We.Provider,{value:t!=null?t:Ys},e);var Lr=M(C("react")),ko=()=>{let e=(0,Lr.useContext)(We);return Lr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.parse)!=null?o:()=>()=>({})},[e==null?void 0:e.parse])()};var Y=()=>{let e=ko();return Xs.default.useMemo(()=>e(),[e])};function V(e){var f,c;let{resources:t}=(0,qs.useContext)(et),r=O(),o=Y(),s={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},a=tt(),{useParams:n}=z(),i=n();if(r==="legacy"){let g=s.resourceNameOrRouteName?s.resourceNameOrRouteName:i.resource,x=g?a(g):void 0,U=(f=s==null?void 0:s.recordItemId)!=null?f:i.id,T=i.action,u=(c=s==null?void 0:s.resourceName)!=null?c:x==null?void 0:x.name;return{resources:t,resource:x,resourceName:u,id:U,action:T}}let m,l=typeof e=="string"?e:s==null?void 0:s.resourceNameOrRouteName;if(l){let g=W(l,t);g?m=g:m={name:l}}else o!=null&&o.resource&&(m=o.resource);return{resources:t,resource:m,resourceName:m==null?void 0:m.name,id:o.id,action:o.action}}var Ir=C("react");var tt=()=>{let{resources:e}=(0,Ir.useContext)(et);return(0,Ir.useCallback)(r=>{let o=W(r,e,!0);return o||{name:r,route:r}},[e])};var en=C("react");var Be=()=>{let{notifications:e,notificationDispatch:t}=(0,en.useContext)(xr);return{notifications:e,notificationDispatch:t}};var rn=C("react");var Mr=M(C("react"));var Ft=(0,Mr.createContext)({}),tn=({open:e,close:t,children:r})=>Mr.default.createElement(Ft.Provider,{value:{open:e,close:t}},r);var Pe=()=>{let{open:e,close:t}=(0,rn.useContext)(Ft);return{open:e,close:t}};var on=C("react");var re=()=>{let{open:e}=Pe();return(0,on.useCallback)((r,o)=>{r!==!1&&(r?e==null||e(r):o&&(e==null||e(o)))},[])};var wr=C("react");var Vo=M(C("react"));var ke=Vo.default.createContext({}),sn=({children:e,i18nProvider:t})=>Vo.default.createElement(ke.Provider,{value:{i18nProvider:t}},e);var ba=()=>{let{i18nProvider:e}=(0,wr.useContext)(ke);return(0,wr.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])};var Ar=C("react");var N=()=>{let{i18nProvider:e}=(0,Ar.useContext)(ke);return(0,Ar.useMemo)(()=>{function r(o,s,a){var n,i;return(i=(n=e==null?void 0:e.translate(o,s,a))!=null?n:a)!=null?i:typeof s=="string"&&typeof a>"u"?s:o}return r},[e])};var Sr=C("react");var va=()=>{let{i18nProvider:e}=(0,Sr.useContext)(ke);return(0,Sr.useCallback)(()=>e==null?void 0:e.getLocale(),[])};var nn=C("react");var Se=()=>{let{mutationMode:e,undoableTimeout:t}=(0,nn.useContext)(ye);return{mutationMode:e,undoableTimeout:t}};var Bo=C("react");var Ht=M(C("react")),Qo=Ht.default.createContext({}),an=({children:e})=>{let[t,r]=(0,Ht.useState)(!1);return Ht.default.createElement(Qo.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)};var Ot=()=>{let{warnWhenUnsavedChanges:e}=(0,Bo.useContext)(ye),{warnWhen:t,setWarnWhen:r}=(0,Bo.useContext)(Qo);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}};var un=C("react");var No=()=>{let{syncWithLocation:e}=(0,un.useContext)(ye);return{syncWithLocation:e}};var cn=C("react");var Da=()=>{let{Title:e}=(0,cn.useContext)(ye);return e};var pn=C("react");var $t=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:s,Title:a,hasDashboard:n,mutationMode:i,syncWithLocation:m,undoableTimeout:l,warnWhenUnsavedChanges:f,DashboardPage:c,LoginPage:g,catchAll:x,options:U}=(0,pn.useContext)(ye);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:s,Title:a,hasDashboard:n,mutationMode:i,syncWithLocation:m,undoableTimeout:l,warnWhenUnsavedChanges:f,DashboardPage:c,LoginPage:g,catchAll:x,options:U}};var ln=C("react");var dn=C("export-to-csv-fix-source-map"),Dm=({resourceName:e,resource:t,sorter:r,sorters:o,filters:s,maxItemCount:a,pageSize:n=20,mapData:i=x=>x,exportOptions:m,meta:l,metaData:f,dataProviderName:c,onError:g}={})=>{var y;let[x,U]=(0,ln.useState)(!1),T=j(),{resource:u,resources:d}=V(),R=`${Ct(u==null?void 0:u.name,"plural")}-${new Date().toLocaleString()}`,{getList:b}=T(Q((y=u==null?void 0:u.identifier)!=null?y:u==null?void 0:u.name,c,d));return{isLoading:x,triggerExport:async()=>{var L;U(!0);let p=[],P=1,D=!0;for(;D;)try{let{data:I,total:A}=await b({resource:(L=u==null?void 0:u.name)!=null?L:"",filters:s,sort:h(o,r),sorters:h(o,r),pagination:{current:P,pageSize:n,mode:"server"},meta:h(l,f),metaData:h(l,f)});P++,p.push(...I),a&&p.length>=a&&(p=p.slice(0,a),D=!1),A===p.length&&(D=!1)}catch(I){U(!1),D=!1,g==null||g(I);return}new dn.ExportToCsv({filename:R,useKeysAsHeaders:!0,...m}).generateCsv(p.map(i)),U(!1)}}};var Fo=M(C("react")),mn=M(C("warn-once"));var Qm=({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:s,redirect:a,successNotification:n,errorNotification:i,meta:m,metaData:l,mutationMode:f,liveMode:c,onLiveEvent:g,liveParams:x,undoableTimeout:U,dataProviderName:T,invalidates:u,queryOptions:d,createMutationOptions:R,updateMutationOptions:b}={})=>{let{options:v}=$t(),{resources:y}=V(),p=O(),{resource:P,id:D,action:E}=Y(),{useParams:L}=z(),{resource:I,action:A,id:w}=L(),k=typeof P=="string"?P:P==null?void 0:P.name,B=!e||e===(p==="legacy"?I:k)?r!=null?r:p==="legacy"?w:D:r,[H,S]=Fo.default.useState(B);Fo.default.useEffect(()=>{S(B)},[B]);let F=e!=null?e:p==="legacy"?I:k,$=p==="legacy"?A:E,xe=t!=null?t:$==="edit"||$==="clone"?$:"create",Ue=tt(),_;if(p==="legacy")F&&(_=Ue(F));else if(e){let ce=W(e,y);ce?_=ce:_={name:e,route:e}}else if(typeof P=="string"){let ce=W(P,y);ce?_=ce:_={name:P,route:P}}else _=P;let{mutationMode:He}=Se(),le=f!=null?f:He,st=xe==="create",q=xe==="edit",de=xe==="clone";(0,mn.default)((de||q)&&Boolean(e)&&!Boolean(r),`[useForm]: action: "${xe}", resource: "${F}", id: ${H} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let nt=Co({redirectFromProps:a,action:xe,redirectOptions:v.redirect}),ft=H!==void 0&&(q||de),Le=Vt({resource:_==null?void 0:_.name,id:H!=null?H:"",queryOptions:{enabled:ft,...d},liveMode:c,onLiveEvent:g,liveParams:x,meta:h(m,l),metaData:h(m,l),dataProviderName:T}),{isFetching:Ie}=Le,yt=Qt({mutationOptions:R}),{mutate:Jt,isLoading:Ut}=yt,gt=Do({mutationOptions:b}),{mutate:Me,isLoading:Xt}=gt,{setWarnWhen:je}=Ot(),_e=fn();return{...st||de?{formLoading:Ie||Ut,mutationResult:yt,onFinish:async ce=>{je(!1);let we=Oe=>{_e({redirect:nt,resource:_,id:Oe,meta:l})};return le!=="pessimistic"&&setTimeout(()=>{we()}),new Promise((Oe,Rt)=>{if(le!=="pessimistic"&&Oe(),!!_)return Jt({values:ce,resource:_.name,successNotification:n,errorNotification:i,meta:h(m,l),metaData:h(m,l),dataProviderName:T,invalidates:u},{onSuccess:(Ae,Ye,Je)=>{var Lt;o&&o(Ae,ce,Je);let Xe=(Lt=Ae==null?void 0:Ae.data)==null?void 0:Lt.id;we(Xe),Oe(Ae)},onError:(Ae,Ye,Je)=>{if(s)return s(Ae,ce,Je);Rt()}})})}}:{formLoading:Ie||Xt,mutationResult:gt,onFinish:async ce=>{if(je(!1),!_)return;let we={id:H!=null?H:"",values:ce,resource:_.name,mutationMode:le,undoableTimeout:U,successNotification:n,errorNotification:i,meta:h(m,l),metaData:h(m,l),dataProviderName:T,invalidates:u},Oe=()=>{_e({redirect:nt,resource:_,id:H,meta:l})};return le!=="pessimistic"&&setTimeout(()=>{Oe()}),new Promise((Rt,Ae)=>(le!=="pessimistic"&&Rt(),setTimeout(()=>{Me(we,{onSuccess:(Ye,Je,Xe)=>{o&&o(Ye,ce,Xe),le==="pessimistic"&&Oe(),Rt(Ye)},onError:(Ye,Je,Xe)=>{if(s)return s(Ye,ce,Xe);Ae()}})})))}},queryResult:Le,id:H,setId:S,redirect:(ce,we)=>{_e({redirect:ce!==void 0?ce:q?"list":"edit",resource:_,id:we!=null?we:H,meta:l})}}};var yn=C("react");var fn=()=>{let{show:e,edit:t,list:r,create:o}=se();return(0,yn.useCallback)(({redirect:a,resource:n,id:i,meta:m={}})=>{if(a&&n)return!!n.show&&a==="show"&&i?e(n,i,void 0,m):!!n.edit&&a==="edit"&&i?t(n,i,void 0,m):!!n.create&&a==="create"?o(n,void 0,m):r(n,"push",m)},[])};var kr=M(C("react")),ne=()=>{let e=(0,kr.useContext)(We);return kr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.go)!=null?o:()=>()=>{}},[e==null?void 0:e.go])()};var Vr=M(C("react")),Ho=()=>{let e=(0,Vr.useContext)(We);return Vr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.back)!=null?o:()=>()=>{}},[e==null?void 0:e.back])()};var se=()=>{let{resources:e}=V(),t=O(),{useHistory:r}=z(),o=r(),s=Y(),a=ne(),n=Ho(),i=(y,p="push")=>{t==="legacy"?o[p](y):a({to:y,type:p})},m=(y,p={})=>{var P,D,E;if(t==="legacy"){let L=typeof y=="string"?(P=W(y,e,!0))!=null?P:{name:y,route:y}:y,I=pe(L,e,!0).find(A=>A.action==="create");return I?fe(I.route,s,p):""}else{let L=typeof y=="string"?(D=W(y,e))!=null?D:{name:y}:y,I=(E=pe(L,e).find(A=>A.action==="create"))==null?void 0:E.route;return I?a({to:fe(I,s,p),type:"path"}):""}},l=(y,p,P={})=>{var E,L,I;let D=encodeURIComponent(p);if(t==="legacy"){let A=typeof y=="string"?(E=W(y,e,!0))!=null?E:{name:y,route:y}:y,w=pe(A,e,!0).find(k=>k.action==="edit");return w?fe(w.route,s,{...P,id:D}):""}else{let A=typeof y=="string"?(L=W(y,e))!=null?L:{name:y}:y,w=(I=pe(A,e).find(k=>k.action==="edit"))==null?void 0:I.route;return w?a({to:fe(w,s,{...P,id:D}),type:"path"}):""}},f=(y,p,P={})=>{var E,L,I;let D=encodeURIComponent(p);if(t==="legacy"){let A=typeof y=="string"?(E=W(y,e,!0))!=null?E:{name:y,route:y}:y,w=pe(A,e,!0).find(k=>k.action==="clone");return w?fe(w.route,s,{...P,id:D}):""}else{let A=typeof y=="string"?(L=W(y,e))!=null?L:{name:y}:y,w=(I=pe(A,e).find(k=>k.action==="clone"))==null?void 0:I.route;return w?a({to:fe(w,s,{...P,id:D}),type:"path"}):""}},c=(y,p,P={})=>{var E,L,I;let D=encodeURIComponent(p);if(t==="legacy"){let A=typeof y=="string"?(E=W(y,e,!0))!=null?E:{name:y,route:y}:y,w=pe(A,e,!0).find(k=>k.action==="show");return w?fe(w.route,s,{...P,id:D}):""}else{let A=typeof y=="string"?(L=W(y,e))!=null?L:{name:y}:y,w=(I=pe(A,e).find(k=>k.action==="show"))==null?void 0:I.route;return w?a({to:fe(w,s,{...P,id:D}),type:"path"}):""}},g=(y,p={})=>{var P,D,E;if(t==="legacy"){let L=typeof y=="string"?(P=W(y,e,!0))!=null?P:{name:y,route:y}:y,I=pe(L,e,!0).find(A=>A.action==="list");return I?fe(I.route,s,p):""}else{let L=typeof y=="string"?(D=W(y,e))!=null?D:{name:y}:y,I=(E=pe(L,e).find(A=>A.action==="list"))==null?void 0:E.route;return I?a({to:fe(I,s,p),type:"path"}):""}};return{create:(y,p="push",P={})=>{i(m(y,P),p)},createUrl:m,edit:(y,p,P="push",D={})=>{i(l(y,p,D),P)},editUrl:l,clone:(y,p,P="push",D={})=>{i(f(y,p,D),P)},cloneUrl:f,show:(y,p,P="push",D={})=>{i(c(y,p,D),P)},showUrl:c,list:(y,p="push",P={})=>{i(g(y,P),p)},listUrl:g,push:(y,...p)=>{t==="legacy"?o.push(y,...p):a({to:y,type:"push"})},replace:(y,...p)=>{t==="legacy"?o.replace(y,...p):a({to:y,type:"replace"})},goBack:()=>{t==="legacy"?o.goBack():n()}}};var Qr=M(C("react")),gn=M(C("warn-once"));var uf=({resource:e,id:t,successNotification:r,errorNotification:o,meta:s,metaData:a,liveMode:n,onLiveEvent:i,dataProviderName:m,queryOptions:l}={})=>{let f=O(),{resources:c}=V(),{useParams:g}=z(),{resource:x,id:U}=Y(),{resource:T,id:u}=g(),d=x==null?void 0:x.name,R=!e||e===(f==="legacy"?T:d)?t!=null?t:f==="legacy"?u:U:t,[b,v]=(0,Qr.useState)(R);Qr.default.useEffect(()=>{v(R)},[R]);let y=e!=null?e:f==="legacy"?T:d,p,P=tt();if(f==="legacy")y&&(p=P(y));else if(e){let E=W(e,c);E?p=E:p={name:e,route:e}}else if(typeof x=="string"){let E=W(x,c);E?p=E:p={name:x,route:x}}else p=x;return(0,gn.default)(Boolean(e)&&!Boolean(t),`[useShow]: resource: "${y}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`),{queryResult:Vt({resource:p==null?void 0:p.name,id:b!=null?b:"",queryOptions:{enabled:b!==void 0,...l},successNotification:r,errorNotification:o,meta:h(s,a),metaData:h(s,a),liveMode:n,onLiveEvent:i,dataProviderName:m}),showId:b,setShowId:v}};var vt=C("react"),Tn=C("papaparse"),Rn=M(C("lodash-es/chunk"));var yf=({resourceName:e,resource:t,mapData:r=f=>f,paparseOptions:o,batchSize:s=Number.MAX_SAFE_INTEGER,onFinish:a,meta:n,metaData:i,onProgress:m,dataProviderName:l}={})=>{let[f,c]=(0,vt.useState)(0),[g,x]=(0,vt.useState)(0),[U,T]=(0,vt.useState)(!1),{resource:u}=V(t!=null?t:e),d=Lo(),R=Qt(),b;s===1?b=R:b=d;let v=()=>{x(0),c(0),T(!1)},y=P=>{let D={succeeded:P.filter(E=>E.type==="success"),errored:P.filter(E=>E.type==="error")};a==null||a(D),T(!1)};(0,vt.useEffect)(()=>{m==null||m({totalAmount:g,processedAmount:f})},[g,f]);let p=({file:P})=>(v(),new Promise(D=>{T(!0),(0,Tn.parse)(P,{complete:async({data:E})=>{let L=sr(E,r);if(x(L.length),s===1){let I=L.map(w=>async()=>{var H;return{response:await R.mutateAsync({resource:(H=u==null?void 0:u.name)!=null?H:"",values:w,successNotification:!1,errorNotification:!1,dataProviderName:l,meta:h(n,i),metaData:h(n,i)}),value:w}}),A=await dr(I,({response:w,value:k})=>(c(B=>B+1),{response:[w.data],type:"success",request:[k]}),(w,k)=>({response:[w],type:"error",request:[L[k]]}));D(A)}else{let I=(0,Rn.default)(L,s),A=I.map(k=>async()=>{var S;return{response:await d.mutateAsync({resource:(S=u==null?void 0:u.name)!=null?S:"",values:k,successNotification:!1,errorNotification:!1,dataProviderName:l,meta:h(n,i),metaData:h(n,i)}),value:k,currentBatchLength:k.length}}),w=await dr(A,({response:k,currentBatchLength:B,value:H})=>(c(S=>S+B),{response:k.data,type:"success",request:H}),(k,B)=>({response:[k],type:"error",request:I[B]}));D(w)}},...o})}).then(D=>(y(D),D)));return{inputProps:{type:"file",accept:".csv",onChange:P=>{P.target.files&&P.target.files.length>0&&p({file:P.target.files[0]})}},mutationResult:b,isLoading:U,handleChange:p}};var Kt=C("react"),Tf=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Kt.useState)(e),o=(0,Kt.useCallback)(()=>r(!0),[t]),s=(0,Kt.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:s}};var xn=M(C("react"));var Wt=()=>{let e=O(),{resource:t,resources:r}=V(),o=Y();return xn.default.useCallback(({resource:a,action:n,meta:i})=>{var g;let m=a||t;if(!m)return;let f=(g=pe(m,r,e==="legacy").find(x=>x.action===n))==null?void 0:g.route;return f?fe(f,o,i):void 0},[r,t,o])};var Ea=({resource:e,action:t,meta:r,legacy:o})=>Wt()({resource:e,action:t,meta:r,legacy:o});var Br=M(C("react")),ct=()=>{let e=(0,Br.useContext)(We);return e!=null&&e.Link?e.Link:({to:r,...o})=>Br.default.createElement("a",{href:r,...o})};var Cn=C("react");var Oo=M(C("react")),Ge={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Ua=Oo.default.createContext(Ge),Gt=Ua,Pn=({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n})=>Oo.default.createElement(Gt.Provider,{value:{useHistory:t!=null?t:Ge.useHistory,useLocation:r!=null?r:Ge.useLocation,useParams:o!=null?o:Ge.useParams,Prompt:s!=null?s:Ge.Prompt,Link:a!=null?a:Ge.Link,routes:n!=null?n:Ge.routes}},e);var z=()=>{let e=(0,Cn.useContext)(Gt),{useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n}=e!=null?e:Ge;return{useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n}};var vn=C("@tanstack/react-query"),Dn=C("react");var $o=M(C("react"));var pt=$o.default.createContext({}),hn=({can:e,children:t})=>$o.default.createElement(pt.Provider,{value:{can:e}},t);var bn=e=>{let{icon:t,list:r,edit:o,create:s,show:a,clone:n,children:i,meta:m,options:l,...f}=e,{icon:c,...g}=m!=null?m:{},{icon:x,...U}=l!=null?l:{};return{...f,...m?{meta:g}:{},...l?{options:U}:{}}};var En=({action:e,resource:t,params:r,queryOptions:o})=>{let{can:s}=(0,Dn.useContext)(pt),{resource:a,...n}=r!=null?r:{},i=bn(a!=null?a:{}),m=(0,vn.useQuery)(["useCan",{action:e,resource:t,params:{...n,resource:i},enabled:o==null?void 0:o.enabled}],()=>{var l;return(l=s==null?void 0:s({action:e,resource:t,params:n}))!=null?l:Promise.resolve({can:!0})},{enabled:typeof s<"u",...o,retry:!1});return typeof s>"u"?{data:{can:!0}}:m};var Un=C("react");var Xf=()=>{let{can:e}=(0,Un.useContext)(pt);return{can:e}};var ze=C("react"),Ln=M(C("lodash/uniqBy")),In=M(C("lodash/debounce")),zt=M(C("lodash/get"));var iy=e=>{var He,le,st;let[t,r]=(0,ze.useState)([]),[o,s]=(0,ze.useState)([]),[a,n]=(0,ze.useState)([]),{resource:i,sort:m,sorters:l,filters:f=[],optionLabel:c="title",optionValue:g="id",debounce:x=300,successNotification:U,errorNotification:T,defaultValueQueryOptions:u,queryOptions:d,fetchSize:R,pagination:b,hasPagination:v=!1,liveMode:y,defaultValue:p=[],onLiveEvent:P,onSearch:D,liveParams:E,meta:L,metaData:I,dataProviderName:A}=e,{resources:w}=V(),k=W(i,w),B=(He=k==null?void 0:k.name)!=null?He:i,H=Array.isArray(p)?p:[p],S=(0,ze.useCallback)(q=>{n(q.data.map(de=>({label:(0,zt.default)(de,c),value:(0,zt.default)(de,g)})))},[c,g]),F=u!=null?u:d,$=ho({resource:B,ids:H,queryOptions:{...F,enabled:H.length>0&&((le=u==null?void 0:u.enabled)!=null?le:!0),onSuccess:q=>{var de;S(q),(de=F==null?void 0:F.onSuccess)==null||de.call(F,q)}},meta:h(L,I),metaData:h(L,I),liveMode:"off",dataProviderName:A}),xe=(0,ze.useCallback)(q=>{s(q.data.map(de=>({label:(0,zt.default)(de,c),value:(0,zt.default)(de,g)})))},[c,g]),Ue=kt({resource:B,sorters:h(l,m),filters:f.concat(t),pagination:{current:b==null?void 0:b.current,pageSize:(st=b==null?void 0:b.pageSize)!=null?st:R,mode:b==null?void 0:b.mode},hasPagination:v,queryOptions:{...d,onSuccess:q=>{var de;xe(q),(de=d==null?void 0:d.onSuccess)==null||de.call(d,q)}},successNotification:U,errorNotification:T,meta:h(L,I),metaData:h(L,I),liveMode:y,liveParams:E,onLiveEvent:P,dataProviderName:A}),_=q=>{if(D){r(D(q));return}if(q)r([{field:c,operator:"contains",value:q}]);else{r([]);return}};return{queryResult:Ue,defaultValueQueryResult:$,options:(0,ze.useMemo)(()=>(0,Ln.default)([...o,...a],"value"),[o,a]),onSearch:(0,In.default)(_,x)}};var Ne=M(C("react")),Ko=M(C("qs")),jt=M(C("lodash/differenceWith")),_t=M(C("lodash/isEqual")),An=M(C("warn-once"));var Mn=[],wn=[];function my({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:s,permanentSorter:a=wn,defaultSetFilterBehavior:n,initialFilter:i,permanentFilter:m=Mn,filters:l,sorters:f,syncWithLocation:c,resource:g,successNotification:x,errorNotification:U,queryOptions:T,liveMode:u,onLiveEvent:d,liveParams:R,meta:b,metaData:v,dataProviderName:y}={}){var Xe,Lt,Yo,Jo,Xo,qo,es,ts,rs,os;let{syncWithLocation:p}=No(),P=c!=null?c:p,D=Os(u),E=O(),{useLocation:L}=z(),{search:I,pathname:A}=L(),w=Y(),k=r===!1?"off":"server",B=((Xe=o==null?void 0:o.mode)!=null?Xe:k)!=="off",H=h(o==null?void 0:o.current,e),S=h(o==null?void 0:o.pageSize,t),F=h(b,v),{parsedCurrent:$,parsedPageSize:xe,parsedSorter:Ue,parsedFilters:_}=ar(I!=null?I:"?"),He=h(l==null?void 0:l.initial,i),le=(Lt=h(l==null?void 0:l.permanent,m))!=null?Lt:Mn,st=h(f==null?void 0:f.initial,s),q=(Yo=h(f==null?void 0:f.permanent,a))!=null?Yo:wn,de=(Jo=h(l==null?void 0:l.defaultBehavior,n))!=null?Jo:"merge",nt,ft,Le,Ie;P?(nt=((Xo=w==null?void 0:w.params)==null?void 0:Xo.current)||$||H||1,ft=((qo=w==null?void 0:w.params)==null?void 0:qo.pageSize)||xe||S||10,Le=((es=w==null?void 0:w.params)==null?void 0:es.sorters)||(Ue.length?Ue:st),Ie=((ts=w==null?void 0:w.params)==null?void 0:ts.filters)||(_.length?_:He)):(nt=H||1,ft=S||10,Le=st,Ie=He);let{replace:yt}=se(),Jt=ne(),{resource:Ut}=V(g),gt=Ut==null?void 0:Ut.name;Ne.default.useEffect(()=>{(0,An.default)(typeof gt>"u","useTable: `resource` is not defined.")},[gt]);let[Me,Xt]=(0,Ne.useState)(pr(q,Le!=null?Le:[])),[je,_e]=(0,Ne.useState)(cr(le,Ie!=null?Ie:[])),[Tt,Hr]=(0,Ne.useState)(nt),[Ze,Or]=(0,Ne.useState)(ft),Zo=({pagination:{current:ie,pageSize:be},sorter:qt,filters:er})=>{var tr;if(E==="new")return(tr=Jt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...B?{current:ie,pageSize:be}:{},sorters:qt,filters:er,...ce()}}))!=null?tr:"";{let It=Ko.default.parse(I==null?void 0:I.substring(1)),$r=ir({pagination:{pageSize:be,current:ie},sorters:Me!=null?Me:qt,filters:er,...It});return`${A!=null?A:""}?${$r!=null?$r:""}`}};(0,Ne.useEffect)(()=>{I===""&&(Hr(nt),Or(ft),Xt(pr(q,Le!=null?Le:[])),_e(cr(le,Ie!=null?Ie:[])))},[I]);let ce=()=>{var ie;if(E==="new"){let{sorters:be,filters:qt,pageSize:er,current:tr,...It}=(ie=w==null?void 0:w.params)!=null?ie:{};return It}else{let{sorter:be,filters:qt,pageSize:er,current:tr,...It}=Ko.default.parse(I,{ignoreQueryPrefix:!0});return It}};(0,Ne.useEffect)(()=>{if(P){let ie=ce();if(E==="new")Jt({type:"replace",options:{keepQuery:!0},query:{...B?{pageSize:Ze,current:Tt}:{},sorters:(0,jt.default)(Me,q,_t.default),filters:(0,jt.default)(je,le,_t.default)}});else{let be=ir({...B?{pagination:{pageSize:Ze,current:Tt}}:{},sorters:(0,jt.default)(Me,q,_t.default),filters:(0,jt.default)(je,le,_t.default),...ie});return yt==null?void 0:yt(`${A}?${be}`,void 0,{shallow:!0})}}},[P,Tt,Ze,Me,je]);let we=kt({resource:gt,hasPagination:r,pagination:{current:Tt,pageSize:Ze,mode:o==null?void 0:o.mode},filters:Pt(le,je),sorters:ur(q,Me),queryOptions:T,successNotification:x,errorNotification:U,meta:F,metaData:F,liveMode:D,liveParams:R,onLiveEvent:d,dataProviderName:y}),Oe=ie=>{_e(be=>Pt(le,ie,be))},Rt=ie=>{_e(Pt(le,ie))},Ae=ie=>{_e(be=>Pt(le,ie(be)))},Ye=(ie,be=de)=>{typeof ie=="function"?Ae(ie):be==="replace"?Rt(ie):Oe(ie)},Je=ie=>{Xt(()=>ur(q,ie))};return{tableQueryResult:we,sorters:Me,setSorters:Je,sorter:Me,setSorter:Je,filters:je,setFilters:Ye,current:Tt,setCurrent:Hr,pageSize:Ze,setPageSize:Or,pageCount:Ze?Math.ceil(((os=(rs=we.data)==null?void 0:rs.total)!=null?os:0)/Ze):1,createLinkForSyncWithLocation:Zo}}var Go=C("react"),Zt=C("@tanstack/react-query");var Wo=M(C("react")),lt=Wo.default.createContext({}),Sn=({create:e,get:t,update:r,children:o})=>Wo.default.createElement(lt.Provider,{value:{create:e,get:t,update:r}},o);var De=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Zt.useQueryClient)(),o=(0,Go.useContext)(lt),s=K(),{resources:a}=(0,Go.useContext)(et),{data:n,refetch:i,isLoading:m}=Gr({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy),queryOptions:{enabled:!!o}}),l=(0,Zt.useMutation)(async c=>{var T,u,d,R,b;let g=W(c.resource,a),x=h((T=g==null?void 0:g.meta)==null?void 0:T.audit,(u=g==null?void 0:g.options)==null?void 0:u.audit,(R=(d=g==null?void 0:g.options)==null?void 0:d.auditLog)==null?void 0:R.permissions);if(x&&!lo(x,c.action))return;let U;return m&&(U=await i()),await((b=o.create)==null?void 0:b.call(o,{...c,author:n!=null?n:U==null?void 0:U.data}))},e),f=(0,Zt.useMutation)(async c=>{var g;return await((g=o.update)==null?void 0:g.call(o,c))},{onSuccess:c=>{if(c!=null&&c.resource){let g=J(c==null?void 0:c.resource);r.invalidateQueries(g.logList())}},...t});return{log:l,rename:f}};var kn=C("react"),Vn=C("@tanstack/react-query");var Iy=({resource:e,action:t,meta:r,author:o,metaData:s,queryOptions:a})=>{let{get:n}=(0,kn.useContext)(lt),i=J(e,void 0,s);return(0,Vn.useQuery)(i.logList(r),()=>{var l;return(l=n==null?void 0:n({resource:e,action:t,author:o,meta:r,metaData:s}))!=null?l:Promise.resolve([])},{enabled:typeof n<"u",...a,retry:!1})};var Qn=C("react"),Bn=C("@tanstack/react-query");var Ee=()=>{let{resources:e}=V(),t=(0,Bn.useQueryClient)();return(0,Qn.useCallback)(({resource:o,dataProviderName:s,invalidates:a,id:n})=>{if(a===!1)return;let i=J(o,Q(o,s,e));a.forEach(m=>{switch(m){case"all":t.invalidateQueries(i.all);break;case"list":t.invalidateQueries(i.list());break;case"many":t.invalidateQueries(i.many());break;case"resourceAll":t.invalidateQueries(i.resourceAll);break;case"detail":t.invalidateQueries(i.detail(n||""));break;default:break}})},[])};var Nn=C("react"),Fn=M(C("warn-once"));var zy=({meta:e={}}={})=>{let t=O(),{i18nProvider:r}=(0,Nn.useContext)(ke),o=Y(),s=N(),{resources:a,resource:n,action:i}=V(),m=[];if(!(n!=null&&n.name))return{breadcrumbs:m};let l=f=>{var g,x,U,T,u,d,R,b;let c=typeof f=="string"?(g=W(f,a,t==="legacy"))!=null?g:{name:f}:f;if(c){let v=h((x=c==null?void 0:c.meta)==null?void 0:x.parent,c==null?void 0:c.parentName);v&&l(v);let y=pe(c,a,t==="legacy").find(D=>D.action==="list"),p=(U=y==null?void 0:y.resource)!=null&&U.list?y==null?void 0:y.route:void 0,P=p?t==="legacy"?p:fe(p,o,e):void 0;m.push({label:(d=h((T=c.meta)==null?void 0:T.label,(u=c.options)==null?void 0:u.label))!=null?d:s(`${c.name}.${c.name}`,it(c.name)),href:P,icon:h((R=c.meta)==null?void 0:R.icon,(b=c.options)==null?void 0:b.icon,c.icon)})}};if(l(n),i&&i!=="list"){let f=`actions.${i}`,c=s(f);typeof r<"u"&&c===f?((0,Fn.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${i}" action. Please add "actions.${i}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:s(`buttons.${i}`,it(i))})):m.push({label:s(f,it(i))})}return{breadcrumbs:m}};var Nr=M(C("react"));var Dt=(e,t,r=!1)=>{let o=[],s=he(e,t);for(;s;)o.push(s),s=he(s,t);return o.reverse(),`/${[...o,e].map(n=>{var i,m;return me((m=(i=r?n.route:void 0)!=null?i:n.identifier)!=null?m:n.name)}).join("/").replace(/^\//,"")}`};var Hn=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(s=>{var l,f;let a=[],n=he(s,e);for(;n;)a.push(n),n=he(n,e);a.reverse();let i=r;a.forEach(c=>{var x,U;let g=(U=(x=t?c.route:void 0)!=null?x:c.identifier)!=null?U:c.name;i.children[g]||(i.children[g]={item:c,children:{}}),i=i.children[g]});let m=(f=(l=t?s.route:void 0)!=null?l:s.identifier)!=null?f:s.name;i.children[m]||(i.children[m]={item:s,children:{}})});let o=s=>{let a=[];return Object.keys(s.children).forEach(n=>{let i=Dt(s.children[n].item,e,t),m={...s.children[n].item,key:i,children:o(s.children[n])};a.push(m)}),a};return o(r)};var On=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),La=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=N(),o=Wt(),s=O(),{resource:a,resources:n}=V(),{pathname:i}=Y(),{useLocation:m}=z(),{pathname:l}=m(),f=s==="legacy"?On(l):i?On(i):void 0,c=`/${(f!=null?f:"").replace(/^\//,"")}`,g=a?Dt(a,n,s==="legacy"):c!=null?c:"",x=Nr.default.useMemo(()=>{if(!a)return[];let u=he(a,n),d=[Dt(a,n)];for(;u;)d.push(Dt(u,n)),u=he(u,n);return d},[]),U=Nr.default.useCallback(u=>{var R,b,v,y,p,P,D,E;if(((v=(R=u==null?void 0:u.meta)==null?void 0:R.hide)!=null?v:(b=u==null?void 0:u.options)==null?void 0:b.hide)||!(u!=null&&u.list)&&u.children.length===0)return;let d=u.list?o({resource:u,action:"list",legacy:s==="legacy",meta:e}):void 0;if(!(t&&d&&d.match(/(\/|^):(.+?)(\/|$){1}/)))return{...u,route:d,icon:h((y=u.meta)==null?void 0:y.icon,(p=u.options)==null?void 0:p.icon,u.icon),label:(E=h((P=u==null?void 0:u.meta)==null?void 0:P.label,(D=u==null?void 0:u.options)==null?void 0:D.label))!=null?E:r(`${u.name}.${u.name}`,Ct(u.name,"plural"))}},[s,e,r,t]),T=Nr.default.useMemo(()=>{let u=Hn(n,s==="legacy"),d=R=>R.flatMap(b=>{let v=d(b.children),y=U({...b,children:v});return y?[y]:[]});return d(u)},[n,s,U]);return{defaultOpenKeys:x,selectedKey:g,menuItems:T}};var Ia=()=>{let[e,t]=(0,Fe.useState)(),r=N(),{push:o}=se(),s=ne(),a=O(),{resource:n,action:i}=V();return(0,Fe.useEffect)(()=>{n&&i&&t(r("pages.error.info",{action:i,resource:n==null?void 0:n.name},`You may have forgotten to add the "${i}" component to "${n==null?void 0:n.name}" resource.`))},[n,i]),Fe.default.createElement(Fe.default.Fragment,null,Fe.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Fe.default.createElement("p",null,e),Fe.default.createElement("button",{onClick:()=>{a==="legacy"?o("/"):s({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))};var ue=M(C("react"));var xo=()=>{let[e,t]=(0,ue.useState)(""),[r,o]=(0,ue.useState)(""),s=N(),a=K(),{mutate:n}=Mt({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy)});return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement("h1",null,s("pages.login.title","Sign in your account")),ue.default.createElement("form",{onSubmit:i=>{i.preventDefault(),n({username:e,password:r})}},ue.default.createElement("table",null,ue.default.createElement("tbody",null,ue.default.createElement("tr",null,ue.default.createElement("td",null,s("pages.login.username",void 0,"username"),":"),ue.default.createElement("td",null,ue.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:i=>t(i.target.value)}))),ue.default.createElement("tr",null,ue.default.createElement("td",null,s("pages.login.password",void 0,"password"),":"),ue.default.createElement("td",null,ue.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:i=>o(i.target.value)}))))),ue.default.createElement("br",null),ue.default.createElement("input",{type:"submit",value:"login"})))};var dt=M(C("react"));var Z=M(C("react"));var $n=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:s,wrapperProps:a,renderContent:n,formProps:i,title:m=void 0})=>{let l=O(),f=ct(),{Link:c}=z(),g=l==="legacy"?c:f,[x,U]=(0,Z.useState)(""),[T,u]=(0,Z.useState)(""),[d,R]=(0,Z.useState)(!1),b=N(),v=K(),{mutate:y}=Mt({v3LegacyAuthProviderCompatible:Boolean(v==null?void 0:v.isLegacy)}),p=(E,L)=>E?typeof E=="string"?Z.default.createElement(g,{to:E},L):E:null,P=()=>e?e.map(E=>{var L;return Z.default.createElement("div",{key:E.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Z.default.createElement("button",{onClick:()=>y({providerName:E.name}),style:{display:"flex",alignItems:"center"}},E==null?void 0:E.icon,(L=E.label)!=null?L:Z.default.createElement("label",null,E.label)))}):null,D=Z.default.createElement("div",{...s},Z.default.createElement("h1",{style:{textAlign:"center"}},b("pages.login.title","Sign in to your account")),P(),Z.default.createElement("hr",null),Z.default.createElement("form",{onSubmit:E=>{E.preventDefault(),y({email:x,password:T,remember:d})},...i},Z.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Z.default.createElement("label",null,b("pages.login.fields.email","Email")),Z.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:E=>U(E.target.value)}),Z.default.createElement("label",null,b("pages.login.fields.password","Password")),Z.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:T,onChange:E=>u(E.target.value)}),o!=null?o:Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("label",null,b("pages.login.buttons.rememberMe","Remember me"),Z.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:d,value:d.toString(),onChange:()=>{R(!d)}}))),Z.default.createElement("br",null),r!=null?r:p("/forgot-password",b("pages.login.buttons.forgotPassword","Forgot password?")),Z.default.createElement("input",{type:"submit",value:b("pages.login.signin","Sign in")}),t!=null?t:Z.default.createElement("span",null,b("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",p("/register",b("pages.login.register","Sign up"))))));return Z.default.createElement("div",{...a},n?n(D,m):D)};var ae=M(C("react"));var Kn=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:s,formProps:a,title:n=void 0})=>{let i=O(),m=ct(),{Link:l}=z(),f=i==="legacy"?l:m,[c,g]=(0,ae.useState)(""),[x,U]=(0,ae.useState)(""),T=N(),u=K(),{mutate:d,isLoading:R}=Xr({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),b=(p,P)=>p?typeof p=="string"?ae.default.createElement(f,{to:p},P):p:null,v=()=>e?e.map(p=>{var P;return ae.default.createElement("div",{key:p.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ae.default.createElement("button",{onClick:()=>d({providerName:p.name}),style:{display:"flex",alignItems:"center"}},p==null?void 0:p.icon,(P=p.label)!=null?P:ae.default.createElement("label",null,p.label)))}):null,y=ae.default.createElement("div",{...o},ae.default.createElement("h1",{style:{textAlign:"center"}},T("pages.register.title","Sign up for your account")),v(),ae.default.createElement("hr",null),ae.default.createElement("form",{onSubmit:p=>{p.preventDefault(),d({email:c,password:x})},...a},ae.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ae.default.createElement("label",null,T("pages.register.fields.email","Email")),ae.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:p=>g(p.target.value)}),ae.default.createElement("label",null,T("pages.register.fields.password","Password")),ae.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:x,onChange:p=>U(p.target.value)}),ae.default.createElement("input",{type:"submit",value:T("pages.register.buttons.submit","Sign up"),disabled:R}),t!=null?t:ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("span",null,T("pages.login.buttons.haveAccount","Have an account?")," ",b("/login",T("pages.login.signin","Sign in")))))));return ae.default.createElement("div",{...r},s?s(y,n):y)};var ge=M(C("react"));var Wn=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:s,title:a=void 0})=>{let n=N(),i=O(),m=ct(),{Link:l}=z(),f=i==="legacy"?l:m,[c,g]=(0,ge.useState)(""),{mutate:x,isLoading:U}=to(),T=(d,R)=>d?typeof d=="string"?ge.default.createElement(f,{to:d},R):d:null,u=ge.default.createElement("div",{...r},ge.default.createElement("h1",{style:{textAlign:"center"}},n("pages.forgotPassword.title","Forgot your password?")),ge.default.createElement("hr",null),ge.default.createElement("form",{onSubmit:d=>{d.preventDefault(),x({email:c})},...s},ge.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ge.default.createElement("label",null,n("pages.forgotPassword.fields.email","Email")),ge.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:d=>g(d.target.value)}),ge.default.createElement("input",{type:"submit",disabled:U,value:n("pages.forgotPassword.buttons.submit","Send reset instructions")}),ge.default.createElement("br",null),e!=null?e:ge.default.createElement("span",null,n("pages.register.buttons.haveAccount","Have an account? ")," ",T("/login",n("pages.login.signin","Sign in"))))));return ge.default.createElement("div",{...t},o?o(u,a):u)};var Te=M(C("react"));var Gn=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o,title:s=void 0})=>{let a=N(),n=K(),{mutate:i,isLoading:m}=so({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy)}),[l,f]=(0,Te.useState)(""),[c,g]=(0,Te.useState)(""),x=Te.default.createElement("div",{...t},Te.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),Te.default.createElement("hr",null),Te.default.createElement("form",{onSubmit:U=>{U.preventDefault(),i({password:l,confirmPassword:c})},...o},Te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),Te.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:l,onChange:U=>f(U.target.value)}),Te.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Te.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:c,onChange:U=>g(U.target.value)}),Te.default.createElement("input",{type:"submit",disabled:m,value:a("pages.updatePassword.buttons.submit","Update")}))));return Te.default.createElement("div",{...e},r?r(x,s):x)};var Ma=e=>{let{type:t}=e;return dt.default.createElement(dt.default.Fragment,null,(()=>{switch(t){case"register":return dt.default.createElement(Kn,{...e});case"forgotPassword":return dt.default.createElement(Wn,{...e});case"updatePassword":return dt.default.createElement(Gn,{...e});default:return dt.default.createElement($n,{...e})}})())};var Re=M(C("react")),zo=()=>Re.default.createElement(Re.default.Fragment,null,Re.default.createElement("h1",null,"Welcome on board"),Re.default.createElement("p",null,"Your configuration is completed."),Re.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Re.default.createElement("code",null,"`resources`")," property of ",Re.default.createElement("code",null,"`<Refine>`")),Re.default.createElement("div",{style:{display:"flex",gap:8}},Re.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Documentation")),Re.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Examples")),Re.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Community"))));var G=M(C("react"));var wa=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:G.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:G.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),G.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:G.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),G.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:G.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Aa=()=>{let e=Tr("(max-width: 1010px)"),t=Tr("(max-width: 650px)"),r=()=>t?"1, 280px":e?"2, 280px":"4, 208px",o=()=>t?"32px":e?"40px":"48px",s=()=>t?"16px":e?"20px":"24px";return G.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},G.default.createElement("div",{style:{height:"89px"}}),G.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},G.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),G.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},G.default.createElement("h1",{style:{fontSize:o(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),G.default.createElement("h4",{style:{fontSize:s(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),G.default.createElement("div",{style:{height:"64px"}}),G.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},wa.map(a=>G.default.createElement(Sa,{key:`welcome-page-${a.title}`,card:a}))),G.default.createElement("div",{style:{height:"64px"}}))},Sa=({card:e})=>{let{title:t,description:r,icon:o,link:s}=e,[a,n]=(0,G.useState)(!1);return G.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},G.default.createElement("div",{style:{display:"flex",alignItems:"center"}},G.default.createElement("a",{onPointerEnter:()=>n(!0),onPointerLeave:()=>n(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:s},o,G.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),G.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...a&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},G.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),G.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))};var X=M(C("react")),Yt=C("@tanstack/react-query"),Jn=C("@tanstack/react-query-devtools");var jn=C("react");var rt=C("react");var ka="4.7.2",zn=()=>{let e=io(),t=(0,rt.useContext)(lt),r=(0,rt.useContext)(Ke),o=(0,rt.useContext)(Gt),s=(0,rt.useContext)(Bt),{i18nProvider:a}=(0,rt.useContext)(ke),n=(0,rt.useContext)(Ft),i=(0,rt.useContext)(pt),{resources:m}=V(),l=!!t.create||!!t.get||!!t.update,f=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),c=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,g=!!s,x=!!(a!=null&&a.changeLocale)||!!(a!=null&&a.getLocale)||!!(a!=null&&a.translate),U=!!n.close||!!n.open,T=!!i.can;return{providers:{auth:e,auditLog:l,live:f,router:c,data:g,i18n:x,notification:U,accessControl:T},version:ka,resourceCount:m.length}};var Va=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},_n=()=>{let e=zn();return(0,jn.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${Va(e)}`},[]),null};var Zn=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(s=>!t.includes(s));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1};var jo=M(C("react")),Yn=e=>{let t=jo.default.useRef(!1);jo.default.useEffect(()=>{t.current===!1&&e&&Zn(e)&&(t.current=!0)},[e])};var Qa=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:s,notificationProvider:a,accessControlProvider:n,auditLogProvider:i,resources:m,DashboardPage:l,ReadyPage:f,LoginPage:c,catchAll:g,children:x,liveProvider:U,i18nProvider:T,Title:u,Layout:d,Sider:R,Header:b,Footer:v,OffLayoutArea:y,onLiveEvent:p,options:P})=>{let{optionsWithDefaults:D,disableTelemetryWithDefault:E,reactQueryWithDefaults:L}=Po({options:P}),I=Er(()=>{var B;return L.clientConfig instanceof Yt.QueryClient?L.clientConfig:new Yt.QueryClient({...L.clientConfig,defaultOptions:{...L.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(B=L.clientConfig.defaultOptions)==null?void 0:B.queries}}})},[L.clientConfig]),w=X.default.useMemo(()=>typeof a=="function"?a:()=>a!=null?a:{},[a])();if(Yn(s),o&&!s&&(m!=null?m:[]).length===0)return f?X.default.createElement(f,null):X.default.createElement(zo,null);let{RouterComponent:k=X.default.Fragment}=s?{}:o!=null?o:{};return X.default.createElement(Yt.QueryClientProvider,{client:I},X.default.createElement(tn,{...w},X.default.createElement(as,{...e!=null?e:{},isProvided:Boolean(e)},X.default.createElement(us,{...t!=null?t:{},isProvided:Boolean(t)},X.default.createElement(Qs,{...r},X.default.createElement(Ns,{liveProvider:U},X.default.createElement(Zs,{value:o&&!s?"legacy":"new"},X.default.createElement(Js,{router:s},X.default.createElement(Pn,{...o},X.default.createElement(js,{resources:m!=null?m:[]},X.default.createElement(sn,{i18nProvider:T},X.default.createElement(hn,{...n!=null?n:{}},X.default.createElement(Sn,{...i!=null?i:{}},X.default.createElement(bo,null,X.default.createElement(bs,{mutationMode:D.mutationMode,warnWhenUnsavedChanges:D.warnWhenUnsavedChanges,syncWithLocation:D.syncWithLocation,Title:u,undoableTimeout:D.undoableTimeout,catchAll:g,DashboardPage:l,LoginPage:c,Layout:d,Sider:R,Footer:v,Header:b,OffLayoutArea:y,hasDashboard:!!l,liveMode:D.liveMode,onLiveEvent:p,options:D},X.default.createElement(an,null,X.default.createElement(k,null,x,!E&&X.default.createElement(_n,null),X.default.createElement(_o,null))))))))))))))))),L.devtoolConfig===!1?null:X.default.createElement(Jn.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...L.devtoolConfig}))};var Fr=C("react");var Is=({notification:e})=>{let t=N(),{notificationDispatch:r}=Be(),{open:o}=Pe(),[s,a]=(0,Fr.useState)(),n=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:wt(e.seconds)},`You have ${wt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:wt(e.seconds)}),e.seconds>0)){s&&clearTimeout(s);let i=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);a(i)}};return(0,Fr.useEffect)(()=>{n()},[e]),null};var Et=M(C("react"));var Ba=({children:e,Layout:t,Sider:r,Header:o,Title:s,Footer:a,OffLayoutArea:n})=>{let{Layout:i,Footer:m,Header:l,Sider:f,Title:c,OffLayoutArea:g}=$t(),x=t!=null?t:i;return Et.default.createElement(x,{Sider:r!=null?r:f,Header:o!=null?o:l,Footer:a!=null?a:m,Title:s!=null?s:c,OffLayoutArea:n!=null?n:g},e,Et.default.createElement(Na,null))},Na=()=>{let{Prompt:e}=z(),t=N(),{warnWhen:r,setWarnWhen:o}=Ot(),s=a=>(a.preventDefault(),a.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),a.returnValue);return(0,Et.useEffect)(()=>(r&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[r]),Et.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})};var Ce=M(C("react"));var Fa=()=>{let e=ne(),[t,r]=Ce.default.useState(void 0);return Ce.default.useEffect(()=>{t&&e(t)},[t]),Ce.default.useCallback(s=>{t||r(s)},[t])};function Ha({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:s}){var D;let a=K(),n=O(),i=Boolean(a==null?void 0:a.isProvided),m=Boolean(a==null?void 0:a.isLegacy),l=n==="legacy",f=Y(),c=ne(),g=Fa(),{replace:x}=se(),{useLocation:U}=z(),T=U(),{isLoading:u,isFetching:d,isSuccess:R,data:{authenticated:b,redirectTo:v}={},refetch:y}=or({v3LegacyAuthProviderCompatible:m});Ce.default.useEffect(()=>{y()},[r,o]);let p=Ce.default.useRef({status:u?"initial":"pending",content:s!=null?s:null});d?p.current.status="pending":d||(p.current.status="settled");let P=i?m?R:b:!0;if(p.current.status==="settled")if(P)p.current.content=Ce.default.createElement(Ce.default.Fragment,null,r!=null?r:null);else if(typeof o<"u")p.current.content=Ce.default.createElement(Ce.default.Fragment,null,o);else{let E=`${l?T==null?void 0:T.pathname:f.pathname}`.replace(/(\?.*|#.*)$/,""),L=m?typeof e=="string"?e:"/login":typeof e=="string"?e:v;if(L)if(l){let I=t?`?to=${encodeURIComponent(E)}`:"";x(`${L}${I}`)}else g({to:L,query:t?{to:(D=f.params)!=null&&D.to?f.params.to:c({to:E,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return i?Ce.default.createElement(Ce.default.Fragment,null,p.current.content):Ce.default.createElement(Ce.default.Fragment,null,r!=null?r:null)}var Xn=C("react");var _o=()=>{let{useLocation:e}=z(),{checkAuth:t}=ee(),r=e();return(0,Xn.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null};var mt=M(C("react"));var Oa=({resource:e,action:t,params:r,fallback:o,children:s,...a})=>{var y,p;let n=O(),{resources:i}=V(),{useParams:m}=z(),{resource:l,id:f,action:c}=Y(),{resource:g,id:x,action:U}=m(),T=l==null?void 0:l.name,u=!e||e===(n==="legacy"?g:T)?(y=r==null?void 0:r.id)!=null?y:n==="legacy"?x:f:r==null?void 0:r.id,d=e!=null?e:n==="legacy"?g:T,R,b=tt();if(n==="legacy")d&&(R=b(d));else if(e){let P=W(e,i);P?R=P:R={name:e,route:e}}else if(typeof l=="string"){let P=W(l,i);P?R=P:R={name:l,route:l}}else R=l;let{data:v}=En({resource:e!=null?e:R==null?void 0:R.name,action:(p=t!=null?t:n==="legacy"?U:c)!=null?p:"",params:r!=null?r:{id:u,resource:R}});return v!=null&&v.can?mt.default.isValidElement(s)?mt.default.cloneElement(s,a):mt.default.createElement(mt.default.Fragment,null,s):(v==null?void 0:v.can)===!1?mt.default.createElement(mt.default.Fragment,null,o!=null?o:null):null};var ot=M(C("react"));var qn=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var $a=()=>((0,ot.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),qn.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),ot.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},ot.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},ot.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},ot.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),ot.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))));})();
//# sourceMappingURL=index.js.map